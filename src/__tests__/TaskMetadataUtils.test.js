import { timestampToTimeComponent, timeComponentToMilliseconds, combineDateAndTime, extractDatePortion, createEnhancedDates, enhanceTaskMetadata, extractTimeComponentsFromMetadata, downgradeToStandardMetadata, hasTimeComponents, validateTimeComponent, createTimeComponent } from '../utils/task-metadata-utils';
describe('TaskMetadataUtils', () => {
    describe('timestampToTimeComponent', () => {
        it('should convert timestamp to time component correctly', () => {
            // 2023-01-01 14:30:45
            const timestamp = new Date(2023, 0, 1, 14, 30, 45).getTime();
            const result = timestampToTimeComponent(timestamp);
            expect(result.hour).toBe(14);
            expect(result.minute).toBe(30);
            expect(result.second).toBe(45);
            expect(result.originalText).toBe('14:30');
            expect(result.isRange).toBe(false);
        });
        it('should handle midnight correctly', () => {
            const timestamp = new Date(2023, 0, 1, 0, 0, 0).getTime();
            const result = timestampToTimeComponent(timestamp);
            expect(result.hour).toBe(0);
            expect(result.minute).toBe(0);
            expect(result.second).toBe(0);
            expect(result.originalText).toBe('00:00');
        });
    });
    describe('timeComponentToMilliseconds', () => {
        it('should convert time component to milliseconds correctly', () => {
            const timeComponent = {
                hour: 14,
                minute: 30,
                second: 45,
                originalText: '14:30:45',
                isRange: false
            };
            const result = timeComponentToMilliseconds(timeComponent);
            const expected = (14 * 60 * 60 + 30 * 60 + 45) * 1000; // 52245000ms
            expect(result).toBe(expected);
        });
        it('should handle missing seconds', () => {
            const timeComponent = {
                hour: 9,
                minute: 15,
                originalText: '09:15',
                isRange: false
            };
            const result = timeComponentToMilliseconds(timeComponent);
            const expected = (9 * 60 * 60 + 15 * 60) * 1000; // 33300000ms
            expect(result).toBe(expected);
        });
    });
    describe('combineDateAndTime', () => {
        it('should combine date and time correctly', () => {
            const dateTimestamp = new Date(2023, 0, 1, 10, 20, 30).getTime(); // Original time will be ignored
            const timeComponent = {
                hour: 14,
                minute: 30,
                second: 45,
                originalText: '14:30:45',
                isRange: false
            };
            const result = combineDateAndTime(dateTimestamp, timeComponent);
            expect(result.getFullYear()).toBe(2023);
            expect(result.getMonth()).toBe(0);
            expect(result.getDate()).toBe(1);
            expect(result.getHours()).toBe(14);
            expect(result.getMinutes()).toBe(30);
            expect(result.getSeconds()).toBe(45);
        });
        it('should handle missing seconds in time component', () => {
            const dateTimestamp = new Date(2023, 5, 15).getTime();
            const timeComponent = {
                hour: 9,
                minute: 15,
                originalText: '09:15',
                isRange: false
            };
            const result = combineDateAndTime(dateTimestamp, timeComponent);
            expect(result.getHours()).toBe(9);
            expect(result.getMinutes()).toBe(15);
            expect(result.getSeconds()).toBe(0);
        });
    });
    describe('extractDatePortion', () => {
        it('should extract date portion and reset time to 00:00:00', () => {
            const timestamp = new Date(2023, 0, 1, 14, 30, 45).getTime();
            const result = extractDatePortion(timestamp);
            expect(result.getFullYear()).toBe(2023);
            expect(result.getMonth()).toBe(0);
            expect(result.getDate()).toBe(1);
            expect(result.getHours()).toBe(0);
            expect(result.getMinutes()).toBe(0);
            expect(result.getSeconds()).toBe(0);
            expect(result.getMilliseconds()).toBe(0);
        });
    });
    describe('createEnhancedDates', () => {
        it('should create enhanced dates from metadata and time components', () => {
            const metadata = {
                startDate: new Date(2023, 0, 1).getTime(),
                dueDate: new Date(2023, 0, 2).getTime(),
                scheduledDate: new Date(2023, 0, 3).getTime(),
                tags: [],
                children: []
            };
            const timeComponents = {
                startTime: createTimeComponent(9, 0),
                endTime: createTimeComponent(17, 0),
                dueTime: createTimeComponent(23, 59),
                scheduledTime: createTimeComponent(8, 30)
            };
            const result = createEnhancedDates(metadata, timeComponents);
            expect(result.startDateTime).toEqual(new Date(2023, 0, 1, 9, 0));
            expect(result.endDateTime).toEqual(new Date(2023, 0, 1, 17, 0)); // Uses start date
            expect(result.dueDateTime).toEqual(new Date(2023, 0, 2, 23, 59));
            expect(result.scheduledDateTime).toEqual(new Date(2023, 0, 3, 8, 30));
        });
        it('should handle missing dates gracefully', () => {
            const metadata = {
                tags: [],
                children: []
            };
            const timeComponents = {
                startTime: createTimeComponent(9, 0),
                dueTime: createTimeComponent(17, 0)
            };
            const result = createEnhancedDates(metadata, timeComponents);
            expect(result.startDateTime).toBeUndefined();
            expect(result.dueDateTime).toBeUndefined();
        });
    });
    describe('enhanceTaskMetadata', () => {
        it('should enhance standard metadata with time components', () => {
            var _a, _b;
            const metadata = {
                startDate: new Date(2023, 0, 1).getTime(),
                dueDate: new Date(2023, 0, 2).getTime(),
                tags: ['work'],
                children: [],
                priority: 1
            };
            const timeComponents = {
                startTime: createTimeComponent(9, 0),
                dueTime: createTimeComponent(17, 0)
            };
            const result = enhanceTaskMetadata(metadata, timeComponents);
            expect(result.startDate).toBe(metadata.startDate);
            expect(result.dueDate).toBe(metadata.dueDate);
            expect(result.tags).toEqual(['work']);
            expect(result.priority).toBe(1);
            expect(result.timeComponents).toEqual(timeComponents);
            expect((_a = result.enhancedDates) === null || _a === void 0 ? void 0 : _a.startDateTime).toEqual(new Date(2023, 0, 1, 9, 0));
            expect((_b = result.enhancedDates) === null || _b === void 0 ? void 0 : _b.dueDateTime).toEqual(new Date(2023, 0, 2, 17, 0));
        });
        it('should work without time components', () => {
            const metadata = {
                tags: ['personal'],
                children: []
            };
            const result = enhanceTaskMetadata(metadata);
            expect(result.tags).toEqual(['personal']);
            expect(result.timeComponents).toBeUndefined();
            expect(result.enhancedDates).toBeUndefined();
        });
    });
    describe('extractTimeComponentsFromMetadata', () => {
        it('should extract time components from existing timestamps', () => {
            var _a, _b, _c, _d, _e, _f, _g;
            const metadata = {
                startDate: new Date(2023, 0, 1, 9, 30, 0).getTime(),
                dueDate: new Date(2023, 0, 2, 17, 45, 30).getTime(),
                scheduledDate: new Date(2023, 0, 3, 8, 15, 0).getTime(),
                tags: [],
                children: []
            };
            const result = extractTimeComponentsFromMetadata(metadata);
            expect((_a = result.startTime) === null || _a === void 0 ? void 0 : _a.hour).toBe(9);
            expect((_b = result.startTime) === null || _b === void 0 ? void 0 : _b.minute).toBe(30);
            expect((_c = result.dueTime) === null || _c === void 0 ? void 0 : _c.hour).toBe(17);
            expect((_d = result.dueTime) === null || _d === void 0 ? void 0 : _d.minute).toBe(45);
            expect((_e = result.dueTime) === null || _e === void 0 ? void 0 : _e.second).toBe(30);
            expect((_f = result.scheduledTime) === null || _f === void 0 ? void 0 : _f.hour).toBe(8);
            expect((_g = result.scheduledTime) === null || _g === void 0 ? void 0 : _g.minute).toBe(15);
        });
        it('should handle missing timestamps', () => {
            const metadata = {
                tags: [],
                children: []
            };
            const result = extractTimeComponentsFromMetadata(metadata);
            expect(result.startTime).toBeUndefined();
            expect(result.dueTime).toBeUndefined();
            expect(result.scheduledTime).toBeUndefined();
        });
    });
    describe('downgradeToStandardMetadata', () => {
        it('should convert enhanced metadata back to standard format', () => {
            const enhanced = {
                tags: ['work'],
                children: [],
                priority: 2,
                timeComponents: {
                    startTime: createTimeComponent(9, 0),
                    dueTime: createTimeComponent(17, 0)
                },
                enhancedDates: {
                    startDateTime: new Date(2023, 0, 1, 9, 0),
                    dueDateTime: new Date(2023, 0, 2, 17, 0)
                }
            };
            const result = downgradeToStandardMetadata(enhanced);
            expect(result.tags).toEqual(['work']);
            expect(result.priority).toBe(2);
            expect(result.startDate).toBe(new Date(2023, 0, 1, 9, 0).getTime());
            expect(result.dueDate).toBe(new Date(2023, 0, 2, 17, 0).getTime());
            expect('timeComponents' in result).toBe(false);
            expect('enhancedDates' in result).toBe(false);
        });
    });
    describe('hasTimeComponents', () => {
        it('should return true when metadata has time components', () => {
            const metadata = {
                tags: [],
                children: [],
                timeComponents: {
                    startTime: createTimeComponent(9, 0)
                }
            };
            expect(hasTimeComponents(metadata)).toBe(true);
        });
        it('should return false when metadata has no time components', () => {
            const metadata = {
                tags: [],
                children: []
            };
            expect(hasTimeComponents(metadata)).toBe(false);
        });
        it('should return false when timeComponents is empty', () => {
            const metadata = {
                tags: [],
                children: [],
                timeComponents: {}
            };
            expect(hasTimeComponents(metadata)).toBe(false);
        });
    });
    describe('validateTimeComponent', () => {
        it('should validate correct time components', () => {
            expect(validateTimeComponent(createTimeComponent(0, 0))).toBe(true);
            expect(validateTimeComponent(createTimeComponent(23, 59, 59))).toBe(true);
            expect(validateTimeComponent(createTimeComponent(12, 30))).toBe(true);
        });
        it('should reject invalid time components', () => {
            expect(validateTimeComponent({ hour: 24, minute: 0, originalText: '24:00', isRange: false })).toBe(false);
            expect(validateTimeComponent({ hour: 12, minute: 60, originalText: '12:60', isRange: false })).toBe(false);
            expect(validateTimeComponent({ hour: -1, minute: 30, originalText: '-1:30', isRange: false })).toBe(false);
            expect(validateTimeComponent({ hour: 12, minute: 30, second: 60, originalText: '12:30:60', isRange: false })).toBe(false);
        });
    });
    describe('createTimeComponent', () => {
        it('should create valid time components', () => {
            const result = createTimeComponent(14, 30, 45, '2:30:45 PM');
            expect(result.hour).toBe(14);
            expect(result.minute).toBe(30);
            expect(result.second).toBe(45);
            expect(result.originalText).toBe('2:30:45 PM');
            expect(result.isRange).toBe(false);
        });
        it('should generate original text when not provided', () => {
            const result = createTimeComponent(9, 5);
            expect(result.originalText).toBe('09:05');
        });
        it('should include seconds in generated text when provided', () => {
            const result = createTimeComponent(9, 5, 30);
            expect(result.originalText).toBe('09:05:30');
        });
        it('should throw error for invalid time values', () => {
            expect(() => createTimeComponent(25, 0)).toThrow('Invalid time component: 25:0');
            expect(() => createTimeComponent(12, 60)).toThrow('Invalid time component: 12:60');
            expect(() => createTimeComponent(12, 30, 60)).toThrow('Invalid time component: 12:30:60');
        });
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVGFza01ldGFkYXRhVXRpbHMudGVzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIlRhc2tNZXRhZGF0YVV0aWxzLnRlc3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNOLHdCQUF3QixFQUN4QiwyQkFBMkIsRUFDM0Isa0JBQWtCLEVBQ2xCLGtCQUFrQixFQUNsQixtQkFBbUIsRUFDbkIsbUJBQW1CLEVBQ25CLGlDQUFpQyxFQUNqQywyQkFBMkIsRUFDM0IsaUJBQWlCLEVBQ2pCLHFCQUFxQixFQUNyQixtQkFBbUIsRUFDbkIsTUFBTSw4QkFBOEIsQ0FBQztBQUl0QyxRQUFRLENBQUMsbUJBQW1CLEVBQUUsR0FBRyxFQUFFO0lBQ2xDLFFBQVEsQ0FBQywwQkFBMEIsRUFBRSxHQUFHLEVBQUU7UUFDekMsRUFBRSxDQUFDLHNEQUFzRCxFQUFFLEdBQUcsRUFBRTtZQUMvRCxzQkFBc0I7WUFDdEIsTUFBTSxTQUFTLEdBQUcsSUFBSSxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUM3RCxNQUFNLE1BQU0sR0FBRyx3QkFBd0IsQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUVuRCxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUM3QixNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUMvQixNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUMvQixNQUFNLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUMxQyxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLElB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QUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xyXG5cdHRpbWVzdGFtcFRvVGltZUNvbXBvbmVudCxcclxuXHR0aW1lQ29tcG9uZW50VG9NaWxsaXNlY29uZHMsXHJcblx0Y29tYmluZURhdGVBbmRUaW1lLFxyXG5cdGV4dHJhY3REYXRlUG9ydGlvbixcclxuXHRjcmVhdGVFbmhhbmNlZERhdGVzLFxyXG5cdGVuaGFuY2VUYXNrTWV0YWRhdGEsXHJcblx0ZXh0cmFjdFRpbWVDb21wb25lbnRzRnJvbU1ldGFkYXRhLFxyXG5cdGRvd25ncmFkZVRvU3RhbmRhcmRNZXRhZGF0YSxcclxuXHRoYXNUaW1lQ29tcG9uZW50cyxcclxuXHR2YWxpZGF0ZVRpbWVDb21wb25lbnQsXHJcblx0Y3JlYXRlVGltZUNvbXBvbmVudFxyXG59IGZyb20gJy4uL3V0aWxzL3Rhc2stbWV0YWRhdGEtdXRpbHMnO1xyXG5pbXBvcnQgeyBUaW1lQ29tcG9uZW50IH0gZnJvbSAnLi4vdHlwZXMvdGltZS1wYXJzaW5nJztcclxuaW1wb3J0IHsgU3RhbmRhcmRUYXNrTWV0YWRhdGEsIEVuaGFuY2VkU3RhbmRhcmRUYXNrTWV0YWRhdGEgfSBmcm9tICcuLi90eXBlcy90YXNrJztcclxuXHJcbmRlc2NyaWJlKCdUYXNrTWV0YWRhdGFVdGlscycsICgpID0+IHtcclxuXHRkZXNjcmliZSgndGltZXN0YW1wVG9UaW1lQ29tcG9uZW50JywgKCkgPT4ge1xyXG5cdFx0aXQoJ3Nob3VsZCBjb252ZXJ0IHRpbWVzdGFtcCB0byB0aW1lIGNvbXBvbmVudCBjb3JyZWN0bHknLCAoKSA9PiB7XHJcblx0XHRcdC8vIDIwMjMtMDEtMDEgMTQ6MzA6NDVcclxuXHRcdFx0Y29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUoMjAyMywgMCwgMSwgMTQsIDMwLCA0NSkuZ2V0VGltZSgpO1xyXG5cdFx0XHRjb25zdCByZXN1bHQgPSB0aW1lc3RhbXBUb1RpbWVDb21wb25lbnQodGltZXN0YW1wKTtcclxuXHJcblx0XHRcdGV4cGVjdChyZXN1bHQuaG91cikudG9CZSgxNCk7XHJcblx0XHRcdGV4cGVjdChyZXN1bHQubWludXRlKS50b0JlKDMwKTtcclxuXHRcdFx0ZXhwZWN0KHJlc3VsdC5zZWNvbmQpLnRvQmUoNDUpO1xyXG5cdFx0XHRleHBlY3QocmVzdWx0Lm9yaWdpbmFsVGV4dCkudG9CZSgnMTQ6MzAnKTtcclxuXHRcdFx0ZXhwZWN0KHJlc3VsdC5pc1JhbmdlKS50b0JlKGZhbHNlKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdGl0KCdzaG91bGQgaGFuZGxlIG1pZG5pZ2h0IGNvcnJlY3RseScsICgpID0+IHtcclxuXHRcdFx0Y29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUoMjAyMywgMCwgMSwgMCwgMCwgMCkuZ2V0VGltZSgpO1xyXG5cdFx0XHRjb25zdCByZXN1bHQgPSB0aW1lc3RhbXBUb1RpbWVDb21wb25lbnQodGltZXN0YW1wKTtcclxuXHJcblx0XHRcdGV4cGVjdChyZXN1bHQuaG91cikudG9CZSgwKTtcclxuXHRcdFx0ZXhwZWN0KHJlc3VsdC5taW51dGUpLnRvQmUoMCk7XHJcblx0XHRcdGV4cGVjdChyZXN1bHQuc2Vjb25kKS50b0JlKDApO1xyXG5cdFx0XHRleHBlY3QocmVzdWx0Lm9yaWdpbmFsVGV4dCkudG9CZSgnMDA6MDAnKTtcclxuXHRcdH0pO1xyXG5cdH0pO1xyXG5cclxuXHRkZXNjcmliZSgndGltZUNvbXBvbmVudFRvTWlsbGlzZWNvbmRzJywgKCkgPT4ge1xyXG5cdFx0aXQoJ3Nob3VsZCBjb252ZXJ0IHRpbWUgY29tcG9uZW50IHRvIG1pbGxpc2Vjb25kcyBjb3JyZWN0bHknLCAoKSA9PiB7XHJcblx0XHRcdGNvbnN0IHRpbWVDb21wb25lbnQ6IFRpbWVDb21wb25lbnQgPSB7XHJcblx0XHRcdFx0aG91cjogMTQsXHJcblx0XHRcdFx0bWludXRlOiAzMCxcclxuXHRcdFx0XHRzZWNvbmQ6IDQ1LFxyXG5cdFx0XHRcdG9yaWdpbmFsVGV4dDogJzE0OjMwOjQ1JyxcclxuXHRcdFx0XHRpc1JhbmdlOiBmYWxzZVxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Y29uc3QgcmVzdWx0ID0gdGltZUNvbXBvbmVudFRvTWlsbGlzZWNvbmRzKHRpbWVDb21wb25lbnQpO1xyXG5cdFx0XHRjb25zdCBleHBlY3RlZCA9ICgxNCAqIDYwICogNjAgKyAzMCAqIDYwICsgNDUpICogMTAwMDsgLy8gNTIyNDUwMDBtc1xyXG5cclxuXHRcdFx0ZXhwZWN0KHJlc3VsdCkudG9CZShleHBlY3RlZCk7XHJcblx0XHR9KTtcclxuXHJcblx0XHRpdCgnc2hvdWxkIGhhbmRsZSBtaXNzaW5nIHNlY29uZHMnLCAoKSA9PiB7XHJcblx0XHRcdGNvbnN0IHRpbWVDb21wb25lbnQ6IFRpbWVDb21wb25lbnQgPSB7XHJcblx0XHRcdFx0aG91cjogOSxcclxuXHRcdFx0XHRtaW51dGU6IDE1LFxyXG5cdFx0XHRcdG9yaWdpbmFsVGV4dDogJzA5OjE1JyxcclxuXHRcdFx0XHRpc1JhbmdlOiBmYWxzZVxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Y29uc3QgcmVzdWx0ID0gdGltZUNvbXBvbmVudFRvTWlsbGlzZWNvbmRzKHRpbWVDb21wb25lbnQpO1xyXG5cdFx0XHRjb25zdCBleHBlY3RlZCA9ICg5ICogNjAgKiA2MCArIDE1ICogNjApICogMTAwMDsgLy8gMzMzMDAwMDBtc1xyXG5cclxuXHRcdFx0ZXhwZWN0KHJlc3VsdCkudG9CZShleHBlY3RlZCk7XHJcblx0XHR9KTtcclxuXHR9KTtcclxuXHJcblx0ZGVzY3JpYmUoJ2NvbWJpbmVEYXRlQW5kVGltZScsICgpID0+IHtcclxuXHRcdGl0KCdzaG91bGQgY29tYmluZSBkYXRlIGFuZCB0aW1lIGNvcnJlY3RseScsICgpID0+IHtcclxuXHRcdFx0Y29uc3QgZGF0ZVRpbWVzdGFtcCA9IG5ldyBEYXRlKDIwMjMsIDAsIDEsIDEwLCAyMCwgMzApLmdldFRpbWUoKTsgLy8gT3JpZ2luYWwgdGltZSB3aWxsIGJlIGlnbm9yZWRcclxuXHRcdFx0Y29uc3QgdGltZUNvbXBvbmVudDogVGltZUNvbXBvbmVudCA9IHtcclxuXHRcdFx0XHRob3VyOiAxNCxcclxuXHRcdFx0XHRtaW51dGU6IDMwLFxyXG5cdFx0XHRcdHNlY29uZDogNDUsXHJcblx0XHRcdFx0b3JpZ2luYWxUZXh0OiAnMTQ6MzA6NDUnLFxyXG5cdFx0XHRcdGlzUmFuZ2U6IGZhbHNlXHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRjb25zdCByZXN1bHQgPSBjb21iaW5lRGF0ZUFuZFRpbWUoZGF0ZVRpbWVzdGFtcCwgdGltZUNvbXBvbmVudCk7XHJcblxyXG5cdFx0XHRleHBlY3QocmVzdWx0LmdldEZ1bGxZZWFyKCkpLnRvQmUoMjAyMyk7XHJcblx0XHRcdGV4cGVjdChyZXN1bHQuZ2V0TW9udGgoKSkudG9CZSgwKTtcclxuXHRcdFx0ZXhwZWN0KHJlc3VsdC5nZXREYXRlKCkpLnRvQmUoMSk7XHJcblx0XHRcdGV4cGVjdChyZXN1bHQuZ2V0SG91cnMoKSkudG9CZSgxNCk7XHJcblx0XHRcdGV4cGVjdChyZXN1bHQuZ2V0TWludXRlcygpKS50b0JlKDMwKTtcclxuXHRcdFx0ZXhwZWN0KHJlc3VsdC5nZXRTZWNvbmRzKCkpLnRvQmUoNDUpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0aXQoJ3Nob3VsZCBoYW5kbGUgbWlzc2luZyBzZWNvbmRzIGluIHRpbWUgY29tcG9uZW50JywgKCkgPT4ge1xyXG5cdFx0XHRjb25zdCBkYXRlVGltZXN0YW1wID0gbmV3IERhdGUoMjAyMywgNSwgMTUpLmdldFRpbWUoKTtcclxuXHRcdFx0Y29uc3QgdGltZUNvbXBvbmVudDogVGltZUNvbXBvbmVudCA9IHtcclxuXHRcdFx0XHRob3VyOiA5LFxyXG5cdFx0XHRcdG1pbnV0ZTogMTUsXHJcblx0XHRcdFx0b3JpZ2luYWxUZXh0OiAnMDk6MTUnLFxyXG5cdFx0XHRcdGlzUmFuZ2U6IGZhbHNlXHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRjb25zdCByZXN1bHQgPSBjb21iaW5lRGF0ZUFuZFRpbWUoZGF0ZVRpbWVzdGFtcCwgdGltZUNvbXBvbmVudCk7XHJcblxyXG5cdFx0XHRleHBlY3QocmVzdWx0LmdldEhvdXJzKCkpLnRvQmUoOSk7XHJcblx0XHRcdGV4cGVjdChyZXN1bHQuZ2V0TWludXRlcygpKS50b0JlKDE1KTtcclxuXHRcdFx0ZXhwZWN0KHJlc3VsdC5nZXRTZWNvbmRzKCkpLnRvQmUoMCk7XHJcblx0XHR9KTtcclxuXHR9KTtcclxuXHJcblx0ZGVzY3JpYmUoJ2V4dHJhY3REYXRlUG9ydGlvbicsICgpID0+IHtcclxuXHRcdGl0KCdzaG91bGQgZXh0cmFjdCBkYXRlIHBvcnRpb24gYW5kIHJlc2V0IHRpbWUgdG8gMDA6MDA6MDAnLCAoKSA9PiB7XHJcblx0XHRcdGNvbnN0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKDIwMjMsIDAsIDEsIDE0LCAzMCwgNDUpLmdldFRpbWUoKTtcclxuXHRcdFx0Y29uc3QgcmVzdWx0ID0gZXh0cmFjdERhdGVQb3J0aW9uKHRpbWVzdGFtcCk7XHJcblxyXG5cdFx0XHRleHBlY3QocmVzdWx0LmdldEZ1bGxZZWFyKCkpLnRvQmUoMjAyMyk7XHJcblx0XHRcdGV4cGVjdChyZXN1bHQuZ2V0TW9udGgoKSkudG9CZSgwKTtcclxuXHRcdFx0ZXhwZWN0KHJlc3VsdC5nZXREYXRlKCkpLnRvQmUoMSk7XHJcblx0XHRcdGV4cGVjdChyZXN1bHQuZ2V0SG91cnMoKSkudG9CZSgwKTtcclxuXHRcdFx0ZXhwZWN0KHJlc3VsdC5nZXRNaW51dGVzKCkpLnRvQmUoMCk7XHJcblx0XHRcdGV4cGVjdChyZXN1bHQuZ2V0U2Vjb25kcygpKS50b0JlKDApO1xyXG5cdFx0XHRleHBlY3QocmVzdWx0LmdldE1pbGxpc2Vjb25kcygpKS50b0JlKDApO1xyXG5cdFx0fSk7XHJcblx0fSk7XHJcblxyXG5cdGRlc2NyaWJlKCdjcmVhdGVFbmhhbmNlZERhdGVzJywgKCkgPT4ge1xyXG5cdFx0aXQoJ3Nob3VsZCBjcmVhdGUgZW5oYW5jZWQgZGF0ZXMgZnJvbSBtZXRhZGF0YSBhbmQgdGltZSBjb21wb25lbnRzJywgKCkgPT4ge1xyXG5cdFx0XHRjb25zdCBtZXRhZGF0YTogU3RhbmRhcmRUYXNrTWV0YWRhdGEgPSB7XHJcblx0XHRcdFx0c3RhcnREYXRlOiBuZXcgRGF0ZSgyMDIzLCAwLCAxKS5nZXRUaW1lKCksXHJcblx0XHRcdFx0ZHVlRGF0ZTogbmV3IERhdGUoMjAyMywgMCwgMikuZ2V0VGltZSgpLFxyXG5cdFx0XHRcdHNjaGVkdWxlZERhdGU6IG5ldyBEYXRlKDIwMjMsIDAsIDMpLmdldFRpbWUoKSxcclxuXHRcdFx0XHR0YWdzOiBbXSxcclxuXHRcdFx0XHRjaGlsZHJlbjogW11cclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGNvbnN0IHRpbWVDb21wb25lbnRzID0ge1xyXG5cdFx0XHRcdHN0YXJ0VGltZTogY3JlYXRlVGltZUNvbXBvbmVudCg5LCAwKSxcclxuXHRcdFx0XHRlbmRUaW1lOiBjcmVhdGVUaW1lQ29tcG9uZW50KDE3LCAwKSxcclxuXHRcdFx0XHRkdWVUaW1lOiBjcmVhdGVUaW1lQ29tcG9uZW50KDIzLCA1OSksXHJcblx0XHRcdFx0c2NoZWR1bGVkVGltZTogY3JlYXRlVGltZUNvbXBvbmVudCg4LCAzMClcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGNvbnN0IHJlc3VsdCA9IGNyZWF0ZUVuaGFuY2VkRGF0ZXMobWV0YWRhdGEsIHRpbWVDb21wb25lbnRzKTtcclxuXHJcblx0XHRcdGV4cGVjdChyZXN1bHQuc3RhcnREYXRlVGltZSkudG9FcXVhbChuZXcgRGF0ZSgyMDIzLCAwLCAxLCA5LCAwKSk7XHJcblx0XHRcdGV4cGVjdChyZXN1bHQuZW5kRGF0ZVRpbWUpLnRvRXF1YWwobmV3IERhdGUoMjAyMywgMCwgMSwgMTcsIDApKTsgLy8gVXNlcyBzdGFydCBkYXRlXHJcblx0XHRcdGV4cGVjdChyZXN1bHQuZHVlRGF0ZVRpbWUpLnRvRXF1YWwobmV3IERhdGUoMjAyMywgMCwgMiwgMjMsIDU5KSk7XHJcblx0XHRcdGV4cGVjdChyZXN1bHQuc2NoZWR1bGVkRGF0ZVRpbWUpLnRvRXF1YWwobmV3IERhdGUoMjAyMywgMCwgMywgOCwgMzApKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdGl0KCdzaG91bGQgaGFuZGxlIG1pc3NpbmcgZGF0ZXMgZ3JhY2VmdWxseScsICgpID0+IHtcclxuXHRcdFx0Y29uc3QgbWV0YWRhdGE6IFN0YW5kYXJkVGFza01ldGFkYXRhID0ge1xyXG5cdFx0XHRcdHRhZ3M6IFtdLFxyXG5cdFx0XHRcdGNoaWxkcmVuOiBbXVxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Y29uc3QgdGltZUNvbXBvbmVudHMgPSB7XHJcblx0XHRcdFx0c3RhcnRUaW1lOiBjcmVhdGVUaW1lQ29tcG9uZW50KDksIDApLFxyXG5cdFx0XHRcdGR1ZVRpbWU6IGNyZWF0ZVRpbWVDb21wb25lbnQoMTcsIDApXHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRjb25zdCByZXN1bHQgPSBjcmVhdGVFbmhhbmNlZERhdGVzKG1ldGFkYXRhLCB0aW1lQ29tcG9uZW50cyk7XHJcblxyXG5cdFx0XHRleHBlY3QocmVzdWx0LnN0YXJ0RGF0ZVRpbWUpLnRvQmVVbmRlZmluZWQoKTtcclxuXHRcdFx0ZXhwZWN0KHJlc3VsdC5kdWVEYXRlVGltZSkudG9CZVVuZGVmaW5lZCgpO1xyXG5cdFx0fSk7XHJcblx0fSk7XHJcblxyXG5cdGRlc2NyaWJlKCdlbmhhbmNlVGFza01ldGFkYXRhJywgKCkgPT4ge1xyXG5cdFx0aXQoJ3Nob3VsZCBlbmhhbmNlIHN0YW5kYXJkIG1ldGFkYXRhIHdpdGggdGltZSBjb21wb25lbnRzJywgKCkgPT4ge1xyXG5cdFx0XHRjb25zdCBtZXRhZGF0YTogU3RhbmRhcmRUYXNrTWV0YWRhdGEgPSB7XHJcblx0XHRcdFx0c3RhcnREYXRlOiBuZXcgRGF0ZSgyMDIzLCAwLCAxKS5nZXRUaW1lKCksXHJcblx0XHRcdFx0ZHVlRGF0ZTogbmV3IERhdGUoMjAyMywgMCwgMikuZ2V0VGltZSgpLFxyXG5cdFx0XHRcdHRhZ3M6IFsnd29yayddLFxyXG5cdFx0XHRcdGNoaWxkcmVuOiBbXSxcclxuXHRcdFx0XHRwcmlvcml0eTogMVxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Y29uc3QgdGltZUNvbXBvbmVudHMgPSB7XHJcblx0XHRcdFx0c3RhcnRUaW1lOiBjcmVhdGVUaW1lQ29tcG9uZW50KDksIDApLFxyXG5cdFx0XHRcdGR1ZVRpbWU6IGNyZWF0ZVRpbWVDb21wb25lbnQoMTcsIDApXHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRjb25zdCByZXN1bHQgPSBlbmhhbmNlVGFza01ldGFkYXRhKG1ldGFkYXRhLCB0aW1lQ29tcG9uZW50cyk7XHJcblxyXG5cdFx0XHRleHBlY3QocmVzdWx0LnN0YXJ0RGF0ZSkudG9CZShtZXRhZGF0YS5zdGFydERhdGUpO1xyXG5cdFx0XHRleHBlY3QocmVzdWx0LmR1ZURhdGUpLnRvQmUobWV0YWRhdGEuZHVlRGF0ZSk7XHJcblx0XHRcdGV4cGVjdChyZXN1bHQudGFncykudG9FcXVhbChbJ3dvcmsnXSk7XHJcblx0XHRcdGV4cGVjdChyZXN1bHQucHJpb3JpdHkpLnRvQmUoMSk7XHJcblx0XHRcdGV4cGVjdChyZXN1bHQudGltZUNvbXBvbmVudHMpLnRvRXF1YWwodGltZUNvbXBvbmVudHMpO1xyXG5cdFx0XHRleHBlY3QocmVzdWx0LmVuaGFuY2VkRGF0ZXM/LnN0YXJ0RGF0ZVRpbWUpLnRvRXF1YWwobmV3IERhdGUoMjAyMywgMCwgMSwgOSwgMCkpO1xyXG5cdFx0XHRleHBlY3QocmVzdWx0LmVuaGFuY2VkRGF0ZXM/LmR1ZURhdGVUaW1lKS50b0VxdWFsKG5ldyBEYXRlKDIwMjMsIDAsIDIsIDE3LCAwKSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHRpdCgnc2hvdWxkIHdvcmsgd2l0aG91dCB0aW1lIGNvbXBvbmVudHMnLCAoKSA9PiB7XHJcblx0XHRcdGNvbnN0IG1ldGFkYXRhOiBTdGFuZGFyZFRhc2tNZXRhZGF0YSA9IHtcclxuXHRcdFx0XHR0YWdzOiBbJ3BlcnNvbmFsJ10sXHJcblx0XHRcdFx0Y2hpbGRyZW46IFtdXHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRjb25zdCByZXN1bHQgPSBlbmhhbmNlVGFza01ldGFkYXRhKG1ldGFkYXRhKTtcclxuXHJcblx0XHRcdGV4cGVjdChyZXN1bHQudGFncykudG9FcXVhbChbJ3BlcnNvbmFsJ10pO1xyXG5cdFx0XHRleHBlY3QocmVzdWx0LnRpbWVDb21wb25lbnRzKS50b0JlVW5kZWZpbmVkKCk7XHJcblx0XHRcdGV4cGVjdChyZXN1bHQuZW5oYW5jZWREYXRlcykudG9CZVVuZGVmaW5lZCgpO1xyXG5cdFx0fSk7XHJcblx0fSk7XHJcblxyXG5cdGRlc2NyaWJlKCdleHRyYWN0VGltZUNvbXBvbmVudHNGcm9tTWV0YWRhdGEnLCAoKSA9PiB7XHJcblx0XHRpdCgnc2hvdWxkIGV4dHJhY3QgdGltZSBjb21wb25lbnRzIGZyb20gZXhpc3RpbmcgdGltZXN0YW1wcycsICgpID0+IHtcclxuXHRcdFx0Y29uc3QgbWV0YWRhdGE6IFN0YW5kYXJkVGFza01ldGFkYXRhID0ge1xyXG5cdFx0XHRcdHN0YXJ0RGF0ZTogbmV3IERhdGUoMjAyMywgMCwgMSwgOSwgMzAsIDApLmdldFRpbWUoKSxcclxuXHRcdFx0XHRkdWVEYXRlOiBuZXcgRGF0ZSgyMDIzLCAwLCAyLCAxNywgNDUsIDMwKS5nZXRUaW1lKCksXHJcblx0XHRcdFx0c2NoZWR1bGVkRGF0ZTogbmV3IERhdGUoMjAyMywgMCwgMywgOCwgMTUsIDApLmdldFRpbWUoKSxcclxuXHRcdFx0XHR0YWdzOiBbXSxcclxuXHRcdFx0XHRjaGlsZHJlbjogW11cclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGNvbnN0IHJlc3VsdCA9IGV4dHJhY3RUaW1lQ29tcG9uZW50c0Zyb21NZXRhZGF0YShtZXRhZGF0YSk7XHJcblxyXG5cdFx0XHRleHBlY3QocmVzdWx0LnN0YXJ0VGltZT8uaG91cikudG9CZSg5KTtcclxuXHRcdFx0ZXhwZWN0KHJlc3VsdC5zdGFydFRpbWU/Lm1pbnV0ZSkudG9CZSgzMCk7XHJcblx0XHRcdGV4cGVjdChyZXN1bHQuZHVlVGltZT8uaG91cikudG9CZSgxNyk7XHJcblx0XHRcdGV4cGVjdChyZXN1bHQuZHVlVGltZT8ubWludXRlKS50b0JlKDQ1KTtcclxuXHRcdFx0ZXhwZWN0KHJlc3VsdC5kdWVUaW1lPy5zZWNvbmQpLnRvQmUoMzApO1xyXG5cdFx0XHRleHBlY3QocmVzdWx0LnNjaGVkdWxlZFRpbWU/LmhvdXIpLnRvQmUoOCk7XHJcblx0XHRcdGV4cGVjdChyZXN1bHQuc2NoZWR1bGVkVGltZT8ubWludXRlKS50b0JlKDE1KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdGl0KCdzaG91bGQgaGFuZGxlIG1pc3NpbmcgdGltZXN0YW1wcycsICgpID0+IHtcclxuXHRcdFx0Y29uc3QgbWV0YWRhdGE6IFN0YW5kYXJkVGFza01ldGFkYXRhID0ge1xyXG5cdFx0XHRcdHRhZ3M6IFtdLFxyXG5cdFx0XHRcdGNoaWxkcmVuOiBbXVxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Y29uc3QgcmVzdWx0ID0gZXh0cmFjdFRpbWVDb21wb25lbnRzRnJvbU1ldGFkYXRhKG1ldGFkYXRhKTtcclxuXHJcblx0XHRcdGV4cGVjdChyZXN1bHQuc3RhcnRUaW1lKS50b0JlVW5kZWZpbmVkKCk7XHJcblx0XHRcdGV4cGVjdChyZXN1bHQuZHVlVGltZSkudG9CZVVuZGVmaW5lZCgpO1xyXG5cdFx0XHRleHBlY3QocmVzdWx0LnNjaGVkdWxlZFRpbWUpLnRvQmVVbmRlZmluZWQoKTtcclxuXHRcdH0pO1xyXG5cdH0pO1xyXG5cclxuXHRkZXNjcmliZSgnZG93bmdyYWRlVG9TdGFuZGFyZE1ldGFkYXRhJywgKCkgPT4ge1xyXG5cdFx0aXQoJ3Nob3VsZCBjb252ZXJ0IGVuaGFuY2VkIG1ldGFkYXRhIGJhY2sgdG8gc3RhbmRhcmQgZm9ybWF0JywgKCkgPT4ge1xyXG5cdFx0XHRjb25zdCBlbmhhbmNlZDogRW5oYW5jZWRTdGFuZGFyZFRhc2tNZXRhZGF0YSA9IHtcclxuXHRcdFx0XHR0YWdzOiBbJ3dvcmsnXSxcclxuXHRcdFx0XHRjaGlsZHJlbjogW10sXHJcblx0XHRcdFx0cHJpb3JpdHk6IDIsXHJcblx0XHRcdFx0dGltZUNvbXBvbmVudHM6IHtcclxuXHRcdFx0XHRcdHN0YXJ0VGltZTogY3JlYXRlVGltZUNvbXBvbmVudCg5LCAwKSxcclxuXHRcdFx0XHRcdGR1ZVRpbWU6IGNyZWF0ZVRpbWVDb21wb25lbnQoMTcsIDApXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRlbmhhbmNlZERhdGVzOiB7XHJcblx0XHRcdFx0XHRzdGFydERhdGVUaW1lOiBuZXcgRGF0ZSgyMDIzLCAwLCAxLCA5LCAwKSxcclxuXHRcdFx0XHRcdGR1ZURhdGVUaW1lOiBuZXcgRGF0ZSgyMDIzLCAwLCAyLCAxNywgMClcclxuXHRcdFx0XHR9XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRjb25zdCByZXN1bHQgPSBkb3duZ3JhZGVUb1N0YW5kYXJkTWV0YWRhdGEoZW5oYW5jZWQpO1xyXG5cclxuXHRcdFx0ZXhwZWN0KHJlc3VsdC50YWdzKS50b0VxdWFsKFsnd29yayddKTtcclxuXHRcdFx0ZXhwZWN0KHJlc3VsdC5wcmlvcml0eSkudG9CZSgyKTtcclxuXHRcdFx0ZXhwZWN0KHJlc3VsdC5zdGFydERhdGUpLnRvQmUobmV3IERhdGUoMjAyMywgMCwgMSwgOSwgMCkuZ2V0VGltZSgpKTtcclxuXHRcdFx0ZXhwZWN0KHJlc3VsdC5kdWVEYXRlKS50b0JlKG5ldyBEYXRlKDIwMjMsIDAsIDIsIDE3LCAwKS5nZXRUaW1lKCkpO1xyXG5cdFx0XHRleHBlY3QoJ3RpbWVDb21wb25lbnRzJyBpbiByZXN1bHQpLnRvQmUoZmFsc2UpO1xyXG5cdFx0XHRleHBlY3QoJ2VuaGFuY2VkRGF0ZXMnIGluIHJlc3VsdCkudG9CZShmYWxzZSk7XHJcblx0XHR9KTtcclxuXHR9KTtcclxuXHJcblx0ZGVzY3JpYmUoJ2hhc1RpbWVDb21wb25lbnRzJywgKCkgPT4ge1xyXG5cdFx0aXQoJ3Nob3VsZCByZXR1cm4gdHJ1ZSB3aGVuIG1ldGFkYXRhIGhhcyB0aW1lIGNvbXBvbmVudHMnLCAoKSA9PiB7XHJcblx0XHRcdGNvbnN0IG1ldGFkYXRhOiBFbmhhbmNlZFN0YW5kYXJkVGFza01ldGFkYXRhID0ge1xyXG5cdFx0XHRcdHRhZ3M6IFtdLFxyXG5cdFx0XHRcdGNoaWxkcmVuOiBbXSxcclxuXHRcdFx0XHR0aW1lQ29tcG9uZW50czoge1xyXG5cdFx0XHRcdFx0c3RhcnRUaW1lOiBjcmVhdGVUaW1lQ29tcG9uZW50KDksIDApXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0ZXhwZWN0KGhhc1RpbWVDb21wb25lbnRzKG1ldGFkYXRhKSkudG9CZSh0cnVlKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdGl0KCdzaG91bGQgcmV0dXJuIGZhbHNlIHdoZW4gbWV0YWRhdGEgaGFzIG5vIHRpbWUgY29tcG9uZW50cycsICgpID0+IHtcclxuXHRcdFx0Y29uc3QgbWV0YWRhdGE6IEVuaGFuY2VkU3RhbmRhcmRUYXNrTWV0YWRhdGEgPSB7XHJcblx0XHRcdFx0dGFnczogW10sXHJcblx0XHRcdFx0Y2hpbGRyZW46IFtdXHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRleHBlY3QoaGFzVGltZUNvbXBvbmVudHMobWV0YWRhdGEpKS50b0JlKGZhbHNlKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdGl0KCdzaG91bGQgcmV0dXJuIGZhbHNlIHdoZW4gdGltZUNvbXBvbmVudHMgaXMgZW1wdHknLCAoKSA9PiB7XHJcblx0XHRcdGNvbnN0IG1ldGFkYXRhOiBFbmhhbmNlZFN0YW5kYXJkVGFza01ldGFkYXRhID0ge1xyXG5cdFx0XHRcdHRhZ3M6IFtdLFxyXG5cdFx0XHRcdGNoaWxkcmVuOiBbXSxcclxuXHRcdFx0XHR0aW1lQ29tcG9uZW50czoge31cclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGV4cGVjdChoYXNUaW1lQ29tcG9uZW50cyhtZXRhZGF0YSkpLnRvQmUoZmFsc2UpO1xyXG5cdFx0fSk7XHJcblx0fSk7XHJcblxyXG5cdGRlc2NyaWJlKCd2YWxpZGF0ZVRpbWVDb21wb25lbnQnLCAoKSA9PiB7XHJcblx0XHRpdCgnc2hvdWxkIHZhbGlkYXRlIGNvcnJlY3QgdGltZSBjb21wb25lbnRzJywgKCkgPT4ge1xyXG5cdFx0XHRleHBlY3QodmFsaWRhdGVUaW1lQ29tcG9uZW50KGNyZWF0ZVRpbWVDb21wb25lbnQoMCwgMCkpKS50b0JlKHRydWUpO1xyXG5cdFx0XHRleHBlY3QodmFsaWRhdGVUaW1lQ29tcG9uZW50KGNyZWF0ZVRpbWVDb21wb25lbnQoMjMsIDU5LCA1OSkpKS50b0JlKHRydWUpO1xyXG5cdFx0XHRleHBlY3QodmFsaWRhdGVUaW1lQ29tcG9uZW50KGNyZWF0ZVRpbWVDb21wb25lbnQoMTIsIDMwKSkpLnRvQmUodHJ1ZSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHRpdCgnc2hvdWxkIHJlamVjdCBpbnZhbGlkIHRpbWUgY29tcG9uZW50cycsICgpID0+IHtcclxuXHRcdFx0ZXhwZWN0KHZhbGlkYXRlVGltZUNvbXBvbmVudCh7IGhvdXI6IDI0LCBtaW51dGU6IDAsIG9yaWdpbmFsVGV4dDogJzI0OjAwJywgaXNSYW5nZTogZmFsc2UgfSkpLnRvQmUoZmFsc2UpO1xyXG5cdFx0XHRleHBlY3QodmFsaWRhdGVUaW1lQ29tcG9uZW50KHsgaG91cjogMTIsIG1pbnV0ZTogNjAsIG9yaWdpbmFsVGV4dDogJzEyOjYwJywgaXNSYW5nZTogZmFsc2UgfSkpLnRvQmUoZmFsc2UpO1xyXG5cdFx0XHRleHBlY3QodmFsaWRhdGVUaW1lQ29tcG9uZW50KHsgaG91cjogLTEsIG1pbnV0ZTogMzAsIG9yaWdpbmFsVGV4dDogJy0xOjMwJywgaXNSYW5nZTogZmFsc2UgfSkpLnRvQmUoZmFsc2UpO1xyXG5cdFx0XHRleHBlY3QodmFsaWRhdGVUaW1lQ29tcG9uZW50KHsgaG91cjogMTIsIG1pbnV0ZTogMzAsIHNlY29uZDogNjAsIG9yaWdpbmFsVGV4dDogJzEyOjMwOjYwJywgaXNSYW5nZTogZmFsc2UgfSkpLnRvQmUoZmFsc2UpO1xyXG5cdFx0fSk7XHJcblx0fSk7XHJcblxyXG5cdGRlc2NyaWJlKCdjcmVhdGVUaW1lQ29tcG9uZW50JywgKCkgPT4ge1xyXG5cdFx0aXQoJ3Nob3VsZCBjcmVhdGUgdmFsaWQgdGltZSBjb21wb25lbnRzJywgKCkgPT4ge1xyXG5cdFx0XHRjb25zdCByZXN1bHQgPSBjcmVhdGVUaW1lQ29tcG9uZW50KDE0LCAzMCwgNDUsICcyOjMwOjQ1IFBNJyk7XHJcblxyXG5cdFx0XHRleHBlY3QocmVzdWx0LmhvdXIpLnRvQmUoMTQpO1xyXG5cdFx0XHRleHBlY3QocmVzdWx0Lm1pbnV0ZSkudG9CZSgzMCk7XHJcblx0XHRcdGV4cGVjdChyZXN1bHQuc2Vjb25kKS50b0JlKDQ1KTtcclxuXHRcdFx0ZXhwZWN0KHJlc3VsdC5vcmlnaW5hbFRleHQpLnRvQmUoJzI6MzA6NDUgUE0nKTtcclxuXHRcdFx0ZXhwZWN0KHJlc3VsdC5pc1JhbmdlKS50b0JlKGZhbHNlKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdGl0KCdzaG91bGQgZ2VuZXJhdGUgb3JpZ2luYWwgdGV4dCB3aGVuIG5vdCBwcm92aWRlZCcsICgpID0+IHtcclxuXHRcdFx0Y29uc3QgcmVzdWx0ID0gY3JlYXRlVGltZUNvbXBvbmVudCg5LCA1KTtcclxuXHJcblx0XHRcdGV4cGVjdChyZXN1bHQub3JpZ2luYWxUZXh0KS50b0JlKCcwOTowNScpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0aXQoJ3Nob3VsZCBpbmNsdWRlIHNlY29uZHMgaW4gZ2VuZXJhdGVkIHRleHQgd2hlbiBwcm92aWRlZCcsICgpID0+IHtcclxuXHRcdFx0Y29uc3QgcmVzdWx0ID0gY3JlYXRlVGltZUNvbXBvbmVudCg5LCA1LCAzMCk7XHJcblxyXG5cdFx0XHRleHBlY3QocmVzdWx0Lm9yaWdpbmFsVGV4dCkudG9CZSgnMDk6MDU6MzAnKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdGl0KCdzaG91bGQgdGhyb3cgZXJyb3IgZm9yIGludmFsaWQgdGltZSB2YWx1ZXMnLCAoKSA9PiB7XHJcblx0XHRcdGV4cGVjdCgoKSA9PiBjcmVhdGVUaW1lQ29tcG9uZW50KDI1LCAwKSkudG9UaHJvdygnSW52YWxpZCB0aW1lIGNvbXBvbmVudDogMjU6MCcpO1xyXG5cdFx0XHRleHBlY3QoKCkgPT4gY3JlYXRlVGltZUNvbXBvbmVudCgxMiwgNjApKS50b1Rocm93KCdJbnZhbGlkIHRpbWUgY29tcG9uZW50OiAxMjo2MCcpO1xyXG5cdFx0XHRleHBlY3QoKCkgPT4gY3JlYXRlVGltZUNvbXBvbmVudCgxMiwgMzAsIDYwKSkudG9UaHJvdygnSW52YWxpZCB0aW1lIGNvbXBvbmVudDogMTI6MzA6NjAnKTtcclxuXHRcdH0pO1xyXG5cdH0pO1xyXG59KTsiXX0=