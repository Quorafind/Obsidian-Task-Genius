/**
 * Webcal Integration Tests
 * Tests for webcal URL conversion and integration functionality
 */
import { WebcalUrlConverter } from "../parsers/webcal-converter";
describe("WebcalUrlConverter", () => {
    describe("convertWebcalUrl", () => {
        test("should convert webcal URL to https", () => {
            const url = "webcal://p110-caldav.icloud.com/published/2/test";
            const result = WebcalUrlConverter.convertWebcalUrl(url);
            expect(result.success).toBe(true);
            expect(result.wasWebcal).toBe(true);
            expect(result.convertedUrl).toBe("https://p110-caldav.icloud.com/published/2/test");
            expect(result.originalUrl).toBe(url);
        });
        test("should convert webcal URL with path and query parameters", () => {
            const url = "webcal://example.com/calendar.ics?param=value&other=test";
            const result = WebcalUrlConverter.convertWebcalUrl(url);
            expect(result.success).toBe(true);
            expect(result.wasWebcal).toBe(true);
            expect(result.convertedUrl).toBe("https://example.com/calendar.ics?param=value&other=test");
        });
        test("should handle case-insensitive webcal protocol", () => {
            const url = "WEBCAL://example.com/calendar.ics";
            const result = WebcalUrlConverter.convertWebcalUrl(url);
            expect(result.success).toBe(true);
            expect(result.wasWebcal).toBe(true);
            expect(result.convertedUrl).toBe("https://example.com/calendar.ics");
        });
        test("should use http for localhost", () => {
            const url = "webcal://localhost:3000/calendar.ics";
            const result = WebcalUrlConverter.convertWebcalUrl(url);
            expect(result.success).toBe(true);
            expect(result.wasWebcal).toBe(true);
            expect(result.convertedUrl).toBe("http://localhost:3000/calendar.ics");
        });
        test("should use http for 127.0.0.1", () => {
            const url = "webcal://127.0.0.1:8080/calendar.ics";
            const result = WebcalUrlConverter.convertWebcalUrl(url);
            expect(result.success).toBe(true);
            expect(result.wasWebcal).toBe(true);
            expect(result.convertedUrl).toBe("http://127.0.0.1:8080/calendar.ics");
        });
        test("should accept valid https URL without conversion", () => {
            const url = "https://example.com/calendar.ics";
            const result = WebcalUrlConverter.convertWebcalUrl(url);
            expect(result.success).toBe(true);
            expect(result.wasWebcal).toBe(false);
            expect(result.convertedUrl).toBe(url);
        });
        test("should accept valid http URL without conversion", () => {
            const url = "http://example.com/calendar.ics";
            const result = WebcalUrlConverter.convertWebcalUrl(url);
            expect(result.success).toBe(true);
            expect(result.wasWebcal).toBe(false);
            expect(result.convertedUrl).toBe(url);
        });
        test("should reject empty URL", () => {
            const result = WebcalUrlConverter.convertWebcalUrl("");
            expect(result.success).toBe(false);
            expect(result.wasWebcal).toBe(false);
            expect(result.error).toContain("URL cannot be empty");
        });
        test("should reject whitespace-only URL", () => {
            const result = WebcalUrlConverter.convertWebcalUrl("   ");
            expect(result.success).toBe(false);
            expect(result.wasWebcal).toBe(false);
            expect(result.error).toContain("URL cannot be empty");
        });
        test("should reject invalid URL format", () => {
            const result = WebcalUrlConverter.convertWebcalUrl("not-a-url");
            expect(result.success).toBe(false);
            expect(result.wasWebcal).toBe(false);
            expect(result.error).toContain("Invalid URL format");
        });
        test("should reject unsupported protocol", () => {
            const result = WebcalUrlConverter.convertWebcalUrl("ftp://example.com/calendar.ics");
            expect(result.success).toBe(false);
            expect(result.wasWebcal).toBe(false);
            expect(result.error).toContain("Invalid URL format");
        });
        test("should handle URL with fragments", () => {
            const url = "webcal://example.com/calendar.ics#section";
            const result = WebcalUrlConverter.convertWebcalUrl(url);
            expect(result.success).toBe(true);
            expect(result.wasWebcal).toBe(true);
            expect(result.convertedUrl).toBe("https://example.com/calendar.ics#section");
        });
        test("should handle URL with authentication info", () => {
            const url = "webcal://user:pass@example.com/calendar.ics";
            const result = WebcalUrlConverter.convertWebcalUrl(url);
            expect(result.success).toBe(true);
            expect(result.wasWebcal).toBe(true);
            expect(result.convertedUrl).toBe("https://user:pass@example.com/calendar.ics");
        });
    });
    describe("isWebcalUrl", () => {
        test("should identify webcal URLs", () => {
            expect(WebcalUrlConverter.isWebcalUrl("webcal://example.com")).toBe(true);
            expect(WebcalUrlConverter.isWebcalUrl("WEBCAL://example.com")).toBe(true);
            expect(WebcalUrlConverter.isWebcalUrl("WebCal://example.com")).toBe(true);
        });
        test("should not identify non-webcal URLs", () => {
            expect(WebcalUrlConverter.isWebcalUrl("https://example.com")).toBe(false);
            expect(WebcalUrlConverter.isWebcalUrl("http://example.com")).toBe(false);
            expect(WebcalUrlConverter.isWebcalUrl("ftp://example.com")).toBe(false);
            expect(WebcalUrlConverter.isWebcalUrl("example.com")).toBe(false);
            expect(WebcalUrlConverter.isWebcalUrl("")).toBe(false);
        });
        test("should handle URLs with whitespace", () => {
            expect(WebcalUrlConverter.isWebcalUrl("  webcal://example.com  ")).toBe(true);
            expect(WebcalUrlConverter.isWebcalUrl("  https://example.com  ")).toBe(false);
        });
    });
    describe("getFetchUrl", () => {
        test("should return converted URL for valid webcal", () => {
            const url = "webcal://example.com/calendar.ics";
            const fetchUrl = WebcalUrlConverter.getFetchUrl(url);
            expect(fetchUrl).toBe("https://example.com/calendar.ics");
        });
        test("should return original URL for valid http/https", () => {
            const url = "https://example.com/calendar.ics";
            const fetchUrl = WebcalUrlConverter.getFetchUrl(url);
            expect(fetchUrl).toBe(url);
        });
        test("should return null for invalid URL", () => {
            const fetchUrl = WebcalUrlConverter.getFetchUrl("invalid-url");
            expect(fetchUrl).toBe(null);
        });
        test("should return null for empty URL", () => {
            const fetchUrl = WebcalUrlConverter.getFetchUrl("");
            expect(fetchUrl).toBe(null);
        });
    });
    describe("getConversionDescription", () => {
        test("should describe successful webcal conversion", () => {
            const result = WebcalUrlConverter.convertWebcalUrl("webcal://example.com/calendar.ics");
            const description = WebcalUrlConverter.getConversionDescription(result);
            expect(description).toContain("Converted webcal URL to:");
            expect(description).toContain("https://example.com/calendar.ics");
        });
        test("should describe valid HTTP URL", () => {
            const result = WebcalUrlConverter.convertWebcalUrl("https://example.com/calendar.ics");
            const description = WebcalUrlConverter.getConversionDescription(result);
            expect(description).toContain("Valid HTTP/HTTPS URL:");
            expect(description).toContain("https://example.com/calendar.ics");
        });
        test("should describe conversion errors", () => {
            const result = WebcalUrlConverter.convertWebcalUrl("invalid-url");
            const description = WebcalUrlConverter.getConversionDescription(result);
            expect(description).toContain("Error:");
            expect(description).toContain("Invalid URL format");
        });
    });
    describe("Real-world URL scenarios", () => {
        test("should handle iCloud webcal URL", () => {
            const url = "webcal://p110-caldav.icloud.com/published/2/MTE1OTQ3OTAzNDAxMTU5NN9Kxibs06tCYSsC7GTzrvyViPGkfbZEn_8WMVGFcOzyjJ3ldmeaW-8szOZJQvs8jlkEVQoJJYDGsYisXTi9sVU";
            const result = WebcalUrlConverter.convertWebcalUrl(url);
            expect(result.success).toBe(true);
            expect(result.wasWebcal).toBe(true);
            expect(result.convertedUrl).toBe("https://p110-caldav.icloud.com/published/2/MTE1OTQ3OTAzNDAxMTU5NN9Kxibs06tCYSsC7GTzrvyViPGkfbZEn_8WMVGFcOzyjJ3ldmeaW-8szOZJQvs8jlkEVQoJJYDGsYisXTi9sVU");
        });
        test("should handle Google Calendar webcal URL", () => {
            const url = "webcal://calendar.google.com/calendar/ical/example%40gmail.com/public/basic.ics";
            const result = WebcalUrlConverter.convertWebcalUrl(url);
            expect(result.success).toBe(true);
            expect(result.wasWebcal).toBe(true);
            expect(result.convertedUrl).toBe("https://calendar.google.com/calendar/ical/example%40gmail.com/public/basic.ics");
        });
        test("should handle Outlook webcal URL", () => {
            const url = "webcal://outlook.live.com/owa/calendar/00000000-0000-0000-0000-000000000000/00000000-0000-0000-0000-000000000000/cid-0000000000000000/calendar.ics";
            const result = WebcalUrlConverter.convertWebcalUrl(url);
            expect(result.success).toBe(true);
            expect(result.wasWebcal).toBe(true);
            expect(result.convertedUrl).toBe("https://outlook.live.com/owa/calendar/00000000-0000-0000-0000-000000000000/00000000-0000-0000-0000-000000000000/cid-0000000000000000/calendar.ics");
        });
        test("should handle CalDAV server webcal URL", () => {
            const url = "webcal://caldav.example.com:8443/calendars/user/calendar.ics";
            const result = WebcalUrlConverter.convertWebcalUrl(url);
            expect(result.success).toBe(true);
            expect(result.wasWebcal).toBe(true);
            expect(result.convertedUrl).toBe("https://caldav.example.com:8443/calendars/user/calendar.ics");
        });
    });
    describe("Edge cases", () => {
        test("should handle URL with unusual characters", () => {
            const url = "webcal://example.com/calendar-with-dashes_and_underscores.ics";
            const result = WebcalUrlConverter.convertWebcalUrl(url);
            expect(result.success).toBe(true);
            expect(result.convertedUrl).toBe("https://example.com/calendar-with-dashes_and_underscores.ics");
        });
        test("should handle URL with encoded characters", () => {
            const url = "webcal://example.com/calendar%20with%20spaces.ics";
            const result = WebcalUrlConverter.convertWebcalUrl(url);
            expect(result.success).toBe(true);
            expect(result.convertedUrl).toBe("https://example.com/calendar%20with%20spaces.ics");
        });
        test("should handle URL with multiple subdirectories", () => {
            const url = "webcal://example.com/path/to/deeply/nested/calendar.ics";
            const result = WebcalUrlConverter.convertWebcalUrl(url);
            expect(result.success).toBe(true);
            expect(result.convertedUrl).toBe("https://example.com/path/to/deeply/nested/calendar.ics");
        });
        test("should handle URL with complex query parameters", () => {
            const url = "webcal://example.com/calendar.ics?timezone=UTC&format=ical&filter=work";
            const result = WebcalUrlConverter.convertWebcalUrl(url);
            expect(result.success).toBe(true);
            expect(result.convertedUrl).toBe("https://example.com/calendar.ics?timezone=UTC&format=ical&filter=work");
        });
    });
});
describe("Webcal Integration with ICS Manager", () => {
    // Mock tests to verify integration points
    test("should validate webcal URL in settings", () => {
        // This would test the integration with IcsSettingsTab
        const testUrl = "webcal://example.com/calendar.ics";
        const result = WebcalUrlConverter.convertWebcalUrl(testUrl);
        expect(result.success).toBe(true);
        expect(result.wasWebcal).toBe(true);
    });
    test("should convert webcal URL in fetch process", () => {
        // This would test the integration with IcsManager
        const testUrl = "webcal://example.com/calendar.ics";
        const fetchUrl = WebcalUrlConverter.getFetchUrl(testUrl);
        expect(fetchUrl).toBe("https://example.com/calendar.ics");
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2ViY2FsLWludGVncmF0aW9uLnRlc3QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJ3ZWJjYWwtaW50ZWdyYXRpb24udGVzdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0dBR0c7QUFFSCxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQztBQUVqRSxRQUFRLENBQUMsb0JBQW9CLEVBQUUsR0FBRyxFQUFFO0lBQ25DLFFBQVEsQ0FBQyxrQkFBa0IsRUFBRSxHQUFHLEVBQUU7UUFDakMsSUFBSSxDQUFDLG9DQUFvQyxFQUFFLEdBQUcsRUFBRTtZQUMvQyxNQUFNLEdBQUcsR0FBRyxrREFBa0QsQ0FBQztZQUMvRCxNQUFNLE1BQU0sR0FBRyxrQkFBa0IsQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUV4RCxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNsQyxNQUFNLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNwQyxNQUFNLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDLElBQUksQ0FDL0IsaURBQWlELENBQ2pELENBQUM7WUFDRixNQUFNLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN0QyxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQywwREFBMEQsRUFBRSxHQUFHLEVBQUU7WUFDckUsTUFBTSxHQUFHLEdBQ1IsMERBQTBELENBQUM7WUFDNUQsTUFBTSxNQUFNLEdBQUcsa0JBQWtCLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLENBQUM7WUFFeEQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDbEMsTUFBTSxDQUFDLE1BQU0sQ0FB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TUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksQ0FBQyxrQ0FBa0MsQ0FBQyxDQUFDO0lBQzNELENBQUMsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogV2ViY2FsIEludGVncmF0aW9uIFRlc3RzXHJcbiAqIFRlc3RzIGZvciB3ZWJjYWwgVVJMIGNvbnZlcnNpb24gYW5kIGludGVncmF0aW9uIGZ1bmN0aW9uYWxpdHlcclxuICovXHJcblxyXG5pbXBvcnQgeyBXZWJjYWxVcmxDb252ZXJ0ZXIgfSBmcm9tIFwiLi4vcGFyc2Vycy93ZWJjYWwtY29udmVydGVyXCI7XHJcblxyXG5kZXNjcmliZShcIldlYmNhbFVybENvbnZlcnRlclwiLCAoKSA9PiB7XHJcblx0ZGVzY3JpYmUoXCJjb252ZXJ0V2ViY2FsVXJsXCIsICgpID0+IHtcclxuXHRcdHRlc3QoXCJzaG91bGQgY29udmVydCB3ZWJjYWwgVVJMIHRvIGh0dHBzXCIsICgpID0+IHtcclxuXHRcdFx0Y29uc3QgdXJsID0gXCJ3ZWJjYWw6Ly9wMTEwLWNhbGRhdi5pY2xvdWQuY29tL3B1Ymxpc2hlZC8yL3Rlc3RcIjtcclxuXHRcdFx0Y29uc3QgcmVzdWx0ID0gV2ViY2FsVXJsQ29udmVydGVyLmNvbnZlcnRXZWJjYWxVcmwodXJsKTtcclxuXHJcblx0XHRcdGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcclxuXHRcdFx0ZXhwZWN0KHJlc3VsdC53YXNXZWJjYWwpLnRvQmUodHJ1ZSk7XHJcblx0XHRcdGV4cGVjdChyZXN1bHQuY29udmVydGVkVXJsKS50b0JlKFxyXG5cdFx0XHRcdFwiaHR0cHM6Ly9wMTEwLWNhbGRhdi5pY2xvdWQuY29tL3B1Ymxpc2hlZC8yL3Rlc3RcIlxyXG5cdFx0XHQpO1xyXG5cdFx0XHRleHBlY3QocmVzdWx0Lm9yaWdpbmFsVXJsKS50b0JlKHVybCk7XHJcblx0XHR9KTtcclxuXHJcblx0XHR0ZXN0KFwic2hvdWxkIGNvbnZlcnQgd2ViY2FsIFVSTCB3aXRoIHBhdGggYW5kIHF1ZXJ5IHBhcmFtZXRlcnNcIiwgKCkgPT4ge1xyXG5cdFx0XHRjb25zdCB1cmwgPVxyXG5cdFx0XHRcdFwid2ViY2FsOi8vZXhhbXBsZS5jb20vY2FsZW5kYXIuaWNzP3BhcmFtPXZhbHVlJm90aGVyPXRlc3RcIjtcclxuXHRcdFx0Y29uc3QgcmVzdWx0ID0gV2ViY2FsVXJsQ29udmVydGVyLmNvbnZlcnRXZWJjYWxVcmwodXJsKTtcclxuXHJcblx0XHRcdGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcclxuXHRcdFx0ZXhwZWN0KHJlc3VsdC53YXNXZWJjYWwpLnRvQmUodHJ1ZSk7XHJcblx0XHRcdGV4cGVjdChyZXN1bHQuY29udmVydGVkVXJsKS50b0JlKFxyXG5cdFx0XHRcdFwiaHR0cHM6Ly9leGFtcGxlLmNvbS9jYWxlbmRhci5pY3M/cGFyYW09dmFsdWUmb3RoZXI9dGVzdFwiXHJcblx0XHRcdCk7XHJcblx0XHR9KTtcclxuXHJcblx0XHR0ZXN0KFwic2hvdWxkIGhhbmRsZSBjYXNlLWluc2Vuc2l0aXZlIHdlYmNhbCBwcm90b2NvbFwiLCAoKSA9PiB7XHJcblx0XHRcdGNvbnN0IHVybCA9IFwiV0VCQ0FMOi8vZXhhbXBsZS5jb20vY2FsZW5kYXIuaWNzXCI7XHJcblx0XHRcdGNvbnN0IHJlc3VsdCA9IFdlYmNhbFVybENvbnZlcnRlci5jb252ZXJ0V2ViY2FsVXJsKHVybCk7XHJcblxyXG5cdFx0XHRleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XHJcblx0XHRcdGV4cGVjdChyZXN1bHQud2FzV2ViY2FsKS50b0JlKHRydWUpO1xyXG5cdFx0XHRleHBlY3QocmVzdWx0LmNvbnZlcnRlZFVybCkudG9CZShcclxuXHRcdFx0XHRcImh0dHBzOi8vZXhhbXBsZS5jb20vY2FsZW5kYXIuaWNzXCJcclxuXHRcdFx0KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdHRlc3QoXCJzaG91bGQgdXNlIGh0dHAgZm9yIGxvY2FsaG9zdFwiLCAoKSA9PiB7XHJcblx0XHRcdGNvbnN0IHVybCA9IFwid2ViY2FsOi8vbG9jYWxob3N0OjMwMDAvY2FsZW5kYXIuaWNzXCI7XHJcblx0XHRcdGNvbnN0IHJlc3VsdCA9IFdlYmNhbFVybENvbnZlcnRlci5jb252ZXJ0V2ViY2FsVXJsKHVybCk7XHJcblxyXG5cdFx0XHRleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XHJcblx0XHRcdGV4cGVjdChyZXN1bHQud2FzV2ViY2FsKS50b0JlKHRydWUpO1xyXG5cdFx0XHRleHBlY3QocmVzdWx0LmNvbnZlcnRlZFVybCkudG9CZShcclxuXHRcdFx0XHRcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9jYWxlbmRhci5pY3NcIlxyXG5cdFx0XHQpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGVzdChcInNob3VsZCB1c2UgaHR0cCBmb3IgMTI3LjAuMC4xXCIsICgpID0+IHtcclxuXHRcdFx0Y29uc3QgdXJsID0gXCJ3ZWJjYWw6Ly8xMjcuMC4wLjE6ODA4MC9jYWxlbmRhci5pY3NcIjtcclxuXHRcdFx0Y29uc3QgcmVzdWx0ID0gV2ViY2FsVXJsQ29udmVydGVyLmNvbnZlcnRXZWJjYWxVcmwodXJsKTtcclxuXHJcblx0XHRcdGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcclxuXHRcdFx0ZXhwZWN0KHJlc3VsdC53YXNXZWJjYWwpLnRvQmUodHJ1ZSk7XHJcblx0XHRcdGV4cGVjdChyZXN1bHQuY29udmVydGVkVXJsKS50b0JlKFxyXG5cdFx0XHRcdFwiaHR0cDovLzEyNy4wLjAuMTo4MDgwL2NhbGVuZGFyLmljc1wiXHJcblx0XHRcdCk7XHJcblx0XHR9KTtcclxuXHJcblx0XHR0ZXN0KFwic2hvdWxkIGFjY2VwdCB2YWxpZCBodHRwcyBVUkwgd2l0aG91dCBjb252ZXJzaW9uXCIsICgpID0+IHtcclxuXHRcdFx0Y29uc3QgdXJsID0gXCJodHRwczovL2V4YW1wbGUuY29tL2NhbGVuZGFyLmljc1wiO1xyXG5cdFx0XHRjb25zdCByZXN1bHQgPSBXZWJjYWxVcmxDb252ZXJ0ZXIuY29udmVydFdlYmNhbFVybCh1cmwpO1xyXG5cclxuXHRcdFx0ZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xyXG5cdFx0XHRleHBlY3QocmVzdWx0Lndhc1dlYmNhbCkudG9CZShmYWxzZSk7XHJcblx0XHRcdGV4cGVjdChyZXN1bHQuY29udmVydGVkVXJsKS50b0JlKHVybCk7XHJcblx0XHR9KTtcclxuXHJcblx0XHR0ZXN0KFwic2hvdWxkIGFjY2VwdCB2YWxpZCBodHRwIFVSTCB3aXRob3V0IGNvbnZlcnNpb25cIiwgKCkgPT4ge1xyXG5cdFx0XHRjb25zdCB1cmwgPSBcImh0dHA6Ly9leGFtcGxlLmNvbS9jYWxlbmRhci5pY3NcIjtcclxuXHRcdFx0Y29uc3QgcmVzdWx0ID0gV2ViY2FsVXJsQ29udmVydGVyLmNvbnZlcnRXZWJjYWxVcmwodXJsKTtcclxuXHJcblx0XHRcdGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcclxuXHRcdFx0ZXhwZWN0KHJlc3VsdC53YXNXZWJjYWwpLnRvQmUoZmFsc2UpO1xyXG5cdFx0XHRleHBlY3QocmVzdWx0LmNvbnZlcnRlZFVybCkudG9CZSh1cmwpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGVzdChcInNob3VsZCByZWplY3QgZW1wdHkgVVJMXCIsICgpID0+IHtcclxuXHRcdFx0Y29uc3QgcmVzdWx0ID0gV2ViY2FsVXJsQ29udmVydGVyLmNvbnZlcnRXZWJjYWxVcmwoXCJcIik7XHJcblxyXG5cdFx0XHRleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xyXG5cdFx0XHRleHBlY3QocmVzdWx0Lndhc1dlYmNhbCkudG9CZShmYWxzZSk7XHJcblx0XHRcdGV4cGVjdChyZXN1bHQuZXJyb3IpLnRvQ29udGFpbihcIlVSTCBjYW5ub3QgYmUgZW1wdHlcIik7XHJcblx0XHR9KTtcclxuXHJcblx0XHR0ZXN0KFwic2hvdWxkIHJlamVjdCB3aGl0ZXNwYWNlLW9ubHkgVVJMXCIsICgpID0+IHtcclxuXHRcdFx0Y29uc3QgcmVzdWx0ID0gV2ViY2FsVXJsQ29udmVydGVyLmNvbnZlcnRXZWJjYWxVcmwoXCIgICBcIik7XHJcblxyXG5cdFx0XHRleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xyXG5cdFx0XHRleHBlY3QocmVzdWx0Lndhc1dlYmNhbCkudG9CZShmYWxzZSk7XHJcblx0XHRcdGV4cGVjdChyZXN1bHQuZXJyb3IpLnRvQ29udGFpbihcIlVSTCBjYW5ub3QgYmUgZW1wdHlcIik7XHJcblx0XHR9KTtcclxuXHJcblx0XHR0ZXN0KFwic2hvdWxkIHJlamVjdCBpbnZhbGlkIFVSTCBmb3JtYXRcIiwgKCkgPT4ge1xyXG5cdFx0XHRjb25zdCByZXN1bHQgPSBXZWJjYWxVcmxDb252ZXJ0ZXIuY29udmVydFdlYmNhbFVybChcIm5vdC1hLXVybFwiKTtcclxuXHJcblx0XHRcdGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZShmYWxzZSk7XHJcblx0XHRcdGV4cGVjdChyZXN1bHQud2FzV2ViY2FsKS50b0JlKGZhbHNlKTtcclxuXHRcdFx0ZXhwZWN0KHJlc3VsdC5lcnJvcikudG9Db250YWluKFwiSW52YWxpZCBVUkwgZm9ybWF0XCIpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGVzdChcInNob3VsZCByZWplY3QgdW5zdXBwb3J0ZWQgcHJvdG9jb2xcIiwgKCkgPT4ge1xyXG5cdFx0XHRjb25zdCByZXN1bHQgPSBXZWJjYWxVcmxDb252ZXJ0ZXIuY29udmVydFdlYmNhbFVybChcclxuXHRcdFx0XHRcImZ0cDovL2V4YW1wbGUuY29tL2NhbGVuZGFyLmljc1wiXHJcblx0XHRcdCk7XHJcblxyXG5cdFx0XHRleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xyXG5cdFx0XHRleHBlY3QocmVzdWx0Lndhc1dlYmNhbCkudG9CZShmYWxzZSk7XHJcblx0XHRcdGV4cGVjdChyZXN1bHQuZXJyb3IpLnRvQ29udGFpbihcIkludmFsaWQgVVJMIGZvcm1hdFwiKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdHRlc3QoXCJzaG91bGQgaGFuZGxlIFVSTCB3aXRoIGZyYWdtZW50c1wiLCAoKSA9PiB7XHJcblx0XHRcdGNvbnN0IHVybCA9IFwid2ViY2FsOi8vZXhhbXBsZS5jb20vY2FsZW5kYXIuaWNzI3NlY3Rpb25cIjtcclxuXHRcdFx0Y29uc3QgcmVzdWx0ID0gV2ViY2FsVXJsQ29udmVydGVyLmNvbnZlcnRXZWJjYWxVcmwodXJsKTtcclxuXHJcblx0XHRcdGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcclxuXHRcdFx0ZXhwZWN0KHJlc3VsdC53YXNXZWJjYWwpLnRvQmUodHJ1ZSk7XHJcblx0XHRcdGV4cGVjdChyZXN1bHQuY29udmVydGVkVXJsKS50b0JlKFxyXG5cdFx0XHRcdFwiaHR0cHM6Ly9leGFtcGxlLmNvbS9jYWxlbmRhci5pY3Mjc2VjdGlvblwiXHJcblx0XHRcdCk7XHJcblx0XHR9KTtcclxuXHJcblx0XHR0ZXN0KFwic2hvdWxkIGhhbmRsZSBVUkwgd2l0aCBhdXRoZW50aWNhdGlvbiBpbmZvXCIsICgpID0+IHtcclxuXHRcdFx0Y29uc3QgdXJsID0gXCJ3ZWJjYWw6Ly91c2VyOnBhc3NAZXhhbXBsZS5jb20vY2FsZW5kYXIuaWNzXCI7XHJcblx0XHRcdGNvbnN0IHJlc3VsdCA9IFdlYmNhbFVybENvbnZlcnRlci5jb252ZXJ0V2ViY2FsVXJsKHVybCk7XHJcblxyXG5cdFx0XHRleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XHJcblx0XHRcdGV4cGVjdChyZXN1bHQud2FzV2ViY2FsKS50b0JlKHRydWUpO1xyXG5cdFx0XHRleHBlY3QocmVzdWx0LmNvbnZlcnRlZFVybCkudG9CZShcclxuXHRcdFx0XHRcImh0dHBzOi8vdXNlcjpwYXNzQGV4YW1wbGUuY29tL2NhbGVuZGFyLmljc1wiXHJcblx0XHRcdCk7XHJcblx0XHR9KTtcclxuXHR9KTtcclxuXHJcblx0ZGVzY3JpYmUoXCJpc1dlYmNhbFVybFwiLCAoKSA9PiB7XHJcblx0XHR0ZXN0KFwic2hvdWxkIGlkZW50aWZ5IHdlYmNhbCBVUkxzXCIsICgpID0+IHtcclxuXHRcdFx0ZXhwZWN0KFdlYmNhbFVybENvbnZlcnRlci5pc1dlYmNhbFVybChcIndlYmNhbDovL2V4YW1wbGUuY29tXCIpKS50b0JlKFxyXG5cdFx0XHRcdHRydWVcclxuXHRcdFx0KTtcclxuXHRcdFx0ZXhwZWN0KFdlYmNhbFVybENvbnZlcnRlci5pc1dlYmNhbFVybChcIldFQkNBTDovL2V4YW1wbGUuY29tXCIpKS50b0JlKFxyXG5cdFx0XHRcdHRydWVcclxuXHRcdFx0KTtcclxuXHRcdFx0ZXhwZWN0KFdlYmNhbFVybENvbnZlcnRlci5pc1dlYmNhbFVybChcIldlYkNhbDovL2V4YW1wbGUuY29tXCIpKS50b0JlKFxyXG5cdFx0XHRcdHRydWVcclxuXHRcdFx0KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdHRlc3QoXCJzaG91bGQgbm90IGlkZW50aWZ5IG5vbi13ZWJjYWwgVVJMc1wiLCAoKSA9PiB7XHJcblx0XHRcdGV4cGVjdChXZWJjYWxVcmxDb252ZXJ0ZXIuaXNXZWJjYWxVcmwoXCJodHRwczovL2V4YW1wbGUuY29tXCIpKS50b0JlKFxyXG5cdFx0XHRcdGZhbHNlXHJcblx0XHRcdCk7XHJcblx0XHRcdGV4cGVjdChXZWJjYWxVcmxDb252ZXJ0ZXIuaXNXZWJjYWxVcmwoXCJodHRwOi8vZXhhbXBsZS5jb21cIikpLnRvQmUoXHJcblx0XHRcdFx0ZmFsc2VcclxuXHRcdFx0KTtcclxuXHRcdFx0ZXhwZWN0KFdlYmNhbFVybENvbnZlcnRlci5pc1dlYmNhbFVybChcImZ0cDovL2V4YW1wbGUuY29tXCIpKS50b0JlKFxyXG5cdFx0XHRcdGZhbHNlXHJcblx0XHRcdCk7XHJcblx0XHRcdGV4cGVjdChXZWJjYWxVcmxDb252ZXJ0ZXIuaXNXZWJjYWxVcmwoXCJleGFtcGxlLmNvbVwiKSkudG9CZShmYWxzZSk7XHJcblx0XHRcdGV4cGVjdChXZWJjYWxVcmxDb252ZXJ0ZXIuaXNXZWJjYWxVcmwoXCJcIikpLnRvQmUoZmFsc2UpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGVzdChcInNob3VsZCBoYW5kbGUgVVJMcyB3aXRoIHdoaXRlc3BhY2VcIiwgKCkgPT4ge1xyXG5cdFx0XHRleHBlY3QoXHJcblx0XHRcdFx0V2ViY2FsVXJsQ29udmVydGVyLmlzV2ViY2FsVXJsKFwiICB3ZWJjYWw6Ly9leGFtcGxlLmNvbSAgXCIpXHJcblx0XHRcdCkudG9CZSh0cnVlKTtcclxuXHRcdFx0ZXhwZWN0KFxyXG5cdFx0XHRcdFdlYmNhbFVybENvbnZlcnRlci5pc1dlYmNhbFVybChcIiAgaHR0cHM6Ly9leGFtcGxlLmNvbSAgXCIpXHJcblx0XHRcdCkudG9CZShmYWxzZSk7XHJcblx0XHR9KTtcclxuXHR9KTtcclxuXHJcblx0ZGVzY3JpYmUoXCJnZXRGZXRjaFVybFwiLCAoKSA9PiB7XHJcblx0XHR0ZXN0KFwic2hvdWxkIHJldHVybiBjb252ZXJ0ZWQgVVJMIGZvciB2YWxpZCB3ZWJjYWxcIiwgKCkgPT4ge1xyXG5cdFx0XHRjb25zdCB1cmwgPSBcIndlYmNhbDovL2V4YW1wbGUuY29tL2NhbGVuZGFyLmljc1wiO1xyXG5cdFx0XHRjb25zdCBmZXRjaFVybCA9IFdlYmNhbFVybENvbnZlcnRlci5nZXRGZXRjaFVybCh1cmwpO1xyXG5cclxuXHRcdFx0ZXhwZWN0KGZldGNoVXJsKS50b0JlKFwiaHR0cHM6Ly9leGFtcGxlLmNvbS9jYWxlbmRhci5pY3NcIik7XHJcblx0XHR9KTtcclxuXHJcblx0XHR0ZXN0KFwic2hvdWxkIHJldHVybiBvcmlnaW5hbCBVUkwgZm9yIHZhbGlkIGh0dHAvaHR0cHNcIiwgKCkgPT4ge1xyXG5cdFx0XHRjb25zdCB1cmwgPSBcImh0dHBzOi8vZXhhbXBsZS5jb20vY2FsZW5kYXIuaWNzXCI7XHJcblx0XHRcdGNvbnN0IGZldGNoVXJsID0gV2ViY2FsVXJsQ29udmVydGVyLmdldEZldGNoVXJsKHVybCk7XHJcblxyXG5cdFx0XHRleHBlY3QoZmV0Y2hVcmwpLnRvQmUodXJsKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdHRlc3QoXCJzaG91bGQgcmV0dXJuIG51bGwgZm9yIGludmFsaWQgVVJMXCIsICgpID0+IHtcclxuXHRcdFx0Y29uc3QgZmV0Y2hVcmwgPSBXZWJjYWxVcmxDb252ZXJ0ZXIuZ2V0RmV0Y2hVcmwoXCJpbnZhbGlkLXVybFwiKTtcclxuXHJcblx0XHRcdGV4cGVjdChmZXRjaFVybCkudG9CZShudWxsKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdHRlc3QoXCJzaG91bGQgcmV0dXJuIG51bGwgZm9yIGVtcHR5IFVSTFwiLCAoKSA9PiB7XHJcblx0XHRcdGNvbnN0IGZldGNoVXJsID0gV2ViY2FsVXJsQ29udmVydGVyLmdldEZldGNoVXJsKFwiXCIpO1xyXG5cclxuXHRcdFx0ZXhwZWN0KGZldGNoVXJsKS50b0JlKG51bGwpO1xyXG5cdFx0fSk7XHJcblx0fSk7XHJcblxyXG5cdGRlc2NyaWJlKFwiZ2V0Q29udmVyc2lvbkRlc2NyaXB0aW9uXCIsICgpID0+IHtcclxuXHRcdHRlc3QoXCJzaG91bGQgZGVzY3JpYmUgc3VjY2Vzc2Z1bCB3ZWJjYWwgY29udmVyc2lvblwiLCAoKSA9PiB7XHJcblx0XHRcdGNvbnN0IHJlc3VsdCA9IFdlYmNhbFVybENvbnZlcnRlci5jb252ZXJ0V2ViY2FsVXJsKFxyXG5cdFx0XHRcdFwid2ViY2FsOi8vZXhhbXBsZS5jb20vY2FsZW5kYXIuaWNzXCJcclxuXHRcdFx0KTtcclxuXHRcdFx0Y29uc3QgZGVzY3JpcHRpb24gPVxyXG5cdFx0XHRcdFdlYmNhbFVybENvbnZlcnRlci5nZXRDb252ZXJzaW9uRGVzY3JpcHRpb24ocmVzdWx0KTtcclxuXHJcblx0XHRcdGV4cGVjdChkZXNjcmlwdGlvbikudG9Db250YWluKFwiQ29udmVydGVkIHdlYmNhbCBVUkwgdG86XCIpO1xyXG5cdFx0XHRleHBlY3QoZGVzY3JpcHRpb24pLnRvQ29udGFpbihcImh0dHBzOi8vZXhhbXBsZS5jb20vY2FsZW5kYXIuaWNzXCIpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGVzdChcInNob3VsZCBkZXNjcmliZSB2YWxpZCBIVFRQIFVSTFwiLCAoKSA9PiB7XHJcblx0XHRcdGNvbnN0IHJlc3VsdCA9IFdlYmNhbFVybENvbnZlcnRlci5jb252ZXJ0V2ViY2FsVXJsKFxyXG5cdFx0XHRcdFwiaHR0cHM6Ly9leGFtcGxlLmNvbS9jYWxlbmRhci5pY3NcIlxyXG5cdFx0XHQpO1xyXG5cdFx0XHRjb25zdCBkZXNjcmlwdGlvbiA9XHJcblx0XHRcdFx0V2ViY2FsVXJsQ29udmVydGVyLmdldENvbnZlcnNpb25EZXNjcmlwdGlvbihyZXN1bHQpO1xyXG5cclxuXHRcdFx0ZXhwZWN0KGRlc2NyaXB0aW9uKS50b0NvbnRhaW4oXCJWYWxpZCBIVFRQL0hUVFBTIFVSTDpcIik7XHJcblx0XHRcdGV4cGVjdChkZXNjcmlwdGlvbikudG9Db250YWluKFwiaHR0cHM6Ly9leGFtcGxlLmNvbS9jYWxlbmRhci5pY3NcIik7XHJcblx0XHR9KTtcclxuXHJcblx0XHR0ZXN0KFwic2hvdWxkIGRlc2NyaWJlIGNvbnZlcnNpb24gZXJyb3JzXCIsICgpID0+IHtcclxuXHRcdFx0Y29uc3QgcmVzdWx0ID0gV2ViY2FsVXJsQ29udmVydGVyLmNvbnZlcnRXZWJjYWxVcmwoXCJpbnZhbGlkLXVybFwiKTtcclxuXHRcdFx0Y29uc3QgZGVzY3JpcHRpb24gPVxyXG5cdFx0XHRcdFdlYmNhbFVybENvbnZlcnRlci5nZXRDb252ZXJzaW9uRGVzY3JpcHRpb24ocmVzdWx0KTtcclxuXHJcblx0XHRcdGV4cGVjdChkZXNjcmlwdGlvbikudG9Db250YWluKFwiRXJyb3I6XCIpO1xyXG5cdFx0XHRleHBlY3QoZGVzY3JpcHRpb24pLnRvQ29udGFpbihcIkludmFsaWQgVVJMIGZvcm1hdFwiKTtcclxuXHRcdH0pO1xyXG5cdH0pO1xyXG5cclxuXHRkZXNjcmliZShcIlJlYWwtd29ybGQgVVJMIHNjZW5hcmlvc1wiLCAoKSA9PiB7XHJcblx0XHR0ZXN0KFwic2hvdWxkIGhhbmRsZSBpQ2xvdWQgd2ViY2FsIFVSTFwiLCAoKSA9PiB7XHJcblx0XHRcdGNvbnN0IHVybCA9XHJcblx0XHRcdFx0XCJ3ZWJjYWw6Ly9wMTEwLWNhbGRhdi5pY2xvdWQuY29tL3B1Ymxpc2hlZC8yL01URTFPVFEzT1RBek5EQXhNVFU1Tk45S3hpYnMwNnRDWVNzQzdHVHpydnlWaVBHa2ZiWkVuXzhXTVZHRmNPenlqSjNsZG1lYVctOHN6T1pKUXZzOGpsa0VWUW9KSllER3NZaXNYVGk5c1ZVXCI7XHJcblx0XHRcdGNvbnN0IHJlc3VsdCA9IFdlYmNhbFVybENvbnZlcnRlci5jb252ZXJ0V2ViY2FsVXJsKHVybCk7XHJcblxyXG5cdFx0XHRleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XHJcblx0XHRcdGV4cGVjdChyZXN1bHQud2FzV2ViY2FsKS50b0JlKHRydWUpO1xyXG5cdFx0XHRleHBlY3QocmVzdWx0LmNvbnZlcnRlZFVybCkudG9CZShcclxuXHRcdFx0XHRcImh0dHBzOi8vcDExMC1jYWxkYXYuaWNsb3VkLmNvbS9wdWJsaXNoZWQvMi9NVEUxT1RRM09UQXpOREF4TVRVNU5OOUt4aWJzMDZ0Q1lTc0M3R1R6cnZ5VmlQR2tmYlpFbl84V01WR0ZjT3p5akozbGRtZWFXLThzek9aSlF2czhqbGtFVlFvSkpZREdzWWlzWFRpOXNWVVwiXHJcblx0XHRcdCk7XHJcblx0XHR9KTtcclxuXHJcblx0XHR0ZXN0KFwic2hvdWxkIGhhbmRsZSBHb29nbGUgQ2FsZW5kYXIgd2ViY2FsIFVSTFwiLCAoKSA9PiB7XHJcblx0XHRcdGNvbnN0IHVybCA9XHJcblx0XHRcdFx0XCJ3ZWJjYWw6Ly9jYWxlbmRhci5nb29nbGUuY29tL2NhbGVuZGFyL2ljYWwvZXhhbXBsZSU0MGdtYWlsLmNvbS9wdWJsaWMvYmFzaWMuaWNzXCI7XHJcblx0XHRcdGNvbnN0IHJlc3VsdCA9IFdlYmNhbFVybENvbnZlcnRlci5jb252ZXJ0V2ViY2FsVXJsKHVybCk7XHJcblxyXG5cdFx0XHRleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XHJcblx0XHRcdGV4cGVjdChyZXN1bHQud2FzV2ViY2FsKS50b0JlKHRydWUpO1xyXG5cdFx0XHRleHBlY3QocmVzdWx0LmNvbnZlcnRlZFVybCkudG9CZShcclxuXHRcdFx0XHRcImh0dHBzOi8vY2FsZW5kYXIuZ29vZ2xlLmNvbS9jYWxlbmRhci9pY2FsL2V4YW1wbGUlNDBnbWFpbC5jb20vcHVibGljL2Jhc2ljLmljc1wiXHJcblx0XHRcdCk7XHJcblx0XHR9KTtcclxuXHJcblx0XHR0ZXN0KFwic2hvdWxkIGhhbmRsZSBPdXRsb29rIHdlYmNhbCBVUkxcIiwgKCkgPT4ge1xyXG5cdFx0XHRjb25zdCB1cmwgPVxyXG5cdFx0XHRcdFwid2ViY2FsOi8vb3V0bG9vay5saXZlLmNvbS9vd2EvY2FsZW5kYXIvMDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwLzAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMC9jaWQtMDAwMDAwMDAwMDAwMDAwMC9jYWxlbmRhci5pY3NcIjtcclxuXHRcdFx0Y29uc3QgcmVzdWx0ID0gV2ViY2FsVXJsQ29udmVydGVyLmNvbnZlcnRXZWJjYWxVcmwodXJsKTtcclxuXHJcblx0XHRcdGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcclxuXHRcdFx0ZXhwZWN0KHJlc3VsdC53YXNXZWJjYWwpLnRvQmUodHJ1ZSk7XHJcblx0XHRcdGV4cGVjdChyZXN1bHQuY29udmVydGVkVXJsKS50b0JlKFxyXG5cdFx0XHRcdFwiaHR0cHM6Ly9vdXRsb29rLmxpdmUuY29tL293YS9jYWxlbmRhci8wMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDAvMDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwL2NpZC0wMDAwMDAwMDAwMDAwMDAwL2NhbGVuZGFyLmljc1wiXHJcblx0XHRcdCk7XHJcblx0XHR9KTtcclxuXHJcblx0XHR0ZXN0KFwic2hvdWxkIGhhbmRsZSBDYWxEQVYgc2VydmVyIHdlYmNhbCBVUkxcIiwgKCkgPT4ge1xyXG5cdFx0XHRjb25zdCB1cmwgPVxyXG5cdFx0XHRcdFwid2ViY2FsOi8vY2FsZGF2LmV4YW1wbGUuY29tOjg0NDMvY2FsZW5kYXJzL3VzZXIvY2FsZW5kYXIuaWNzXCI7XHJcblx0XHRcdGNvbnN0IHJlc3VsdCA9IFdlYmNhbFVybENvbnZlcnRlci5jb252ZXJ0V2ViY2FsVXJsKHVybCk7XHJcblxyXG5cdFx0XHRleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XHJcblx0XHRcdGV4cGVjdChyZXN1bHQud2FzV2ViY2FsKS50b0JlKHRydWUpO1xyXG5cdFx0XHRleHBlY3QocmVzdWx0LmNvbnZlcnRlZFVybCkudG9CZShcclxuXHRcdFx0XHRcImh0dHBzOi8vY2FsZGF2LmV4YW1wbGUuY29tOjg0NDMvY2FsZW5kYXJzL3VzZXIvY2FsZW5kYXIuaWNzXCJcclxuXHRcdFx0KTtcclxuXHRcdH0pO1xyXG5cdH0pO1xyXG5cclxuXHRkZXNjcmliZShcIkVkZ2UgY2FzZXNcIiwgKCkgPT4ge1xyXG5cdFx0dGVzdChcInNob3VsZCBoYW5kbGUgVVJMIHdpdGggdW51c3VhbCBjaGFyYWN0ZXJzXCIsICgpID0+IHtcclxuXHRcdFx0Y29uc3QgdXJsID1cclxuXHRcdFx0XHRcIndlYmNhbDovL2V4YW1wbGUuY29tL2NhbGVuZGFyLXdpdGgtZGFzaGVzX2FuZF91bmRlcnNjb3Jlcy5pY3NcIjtcclxuXHRcdFx0Y29uc3QgcmVzdWx0ID0gV2ViY2FsVXJsQ29udmVydGVyLmNvbnZlcnRXZWJjYWxVcmwodXJsKTtcclxuXHJcblx0XHRcdGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcclxuXHRcdFx0ZXhwZWN0KHJlc3VsdC5jb252ZXJ0ZWRVcmwpLnRvQmUoXHJcblx0XHRcdFx0XCJodHRwczovL2V4YW1wbGUuY29tL2NhbGVuZGFyLXdpdGgtZGFzaGVzX2FuZF91bmRlcnNjb3Jlcy5pY3NcIlxyXG5cdFx0XHQpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGVzdChcInNob3VsZCBoYW5kbGUgVVJMIHdpdGggZW5jb2RlZCBjaGFyYWN0ZXJzXCIsICgpID0+IHtcclxuXHRcdFx0Y29uc3QgdXJsID0gXCJ3ZWJjYWw6Ly9leGFtcGxlLmNvbS9jYWxlbmRhciUyMHdpdGglMjBzcGFjZXMuaWNzXCI7XHJcblx0XHRcdGNvbnN0IHJlc3VsdCA9IFdlYmNhbFVybENvbnZlcnRlci5jb252ZXJ0V2ViY2FsVXJsKHVybCk7XHJcblxyXG5cdFx0XHRleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XHJcblx0XHRcdGV4cGVjdChyZXN1bHQuY29udmVydGVkVXJsKS50b0JlKFxyXG5cdFx0XHRcdFwiaHR0cHM6Ly9leGFtcGxlLmNvbS9jYWxlbmRhciUyMHdpdGglMjBzcGFjZXMuaWNzXCJcclxuXHRcdFx0KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdHRlc3QoXCJzaG91bGQgaGFuZGxlIFVSTCB3aXRoIG11bHRpcGxlIHN1YmRpcmVjdG9yaWVzXCIsICgpID0+IHtcclxuXHRcdFx0Y29uc3QgdXJsID1cclxuXHRcdFx0XHRcIndlYmNhbDovL2V4YW1wbGUuY29tL3BhdGgvdG8vZGVlcGx5L25lc3RlZC9jYWxlbmRhci5pY3NcIjtcclxuXHRcdFx0Y29uc3QgcmVzdWx0ID0gV2ViY2FsVXJsQ29udmVydGVyLmNvbnZlcnRXZWJjYWxVcmwodXJsKTtcclxuXHJcblx0XHRcdGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcclxuXHRcdFx0ZXhwZWN0KHJlc3VsdC5jb252ZXJ0ZWRVcmwpLnRvQmUoXHJcblx0XHRcdFx0XCJodHRwczovL2V4YW1wbGUuY29tL3BhdGgvdG8vZGVlcGx5L25lc3RlZC9jYWxlbmRhci5pY3NcIlxyXG5cdFx0XHQpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGVzdChcInNob3VsZCBoYW5kbGUgVVJMIHdpdGggY29tcGxleCBxdWVyeSBwYXJhbWV0ZXJzXCIsICgpID0+IHtcclxuXHRcdFx0Y29uc3QgdXJsID1cclxuXHRcdFx0XHRcIndlYmNhbDovL2V4YW1wbGUuY29tL2NhbGVuZGFyLmljcz90aW1lem9uZT1VVEMmZm9ybWF0PWljYWwmZmlsdGVyPXdvcmtcIjtcclxuXHRcdFx0Y29uc3QgcmVzdWx0ID0gV2ViY2FsVXJsQ29udmVydGVyLmNvbnZlcnRXZWJjYWxVcmwodXJsKTtcclxuXHJcblx0XHRcdGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcclxuXHRcdFx0ZXhwZWN0KHJlc3VsdC5jb252ZXJ0ZWRVcmwpLnRvQmUoXHJcblx0XHRcdFx0XCJodHRwczovL2V4YW1wbGUuY29tL2NhbGVuZGFyLmljcz90aW1lem9uZT1VVEMmZm9ybWF0PWljYWwmZmlsdGVyPXdvcmtcIlxyXG5cdFx0XHQpO1xyXG5cdFx0fSk7XHJcblx0fSk7XHJcbn0pO1xyXG5cclxuZGVzY3JpYmUoXCJXZWJjYWwgSW50ZWdyYXRpb24gd2l0aCBJQ1MgTWFuYWdlclwiLCAoKSA9PiB7XHJcblx0Ly8gTW9jayB0ZXN0cyB0byB2ZXJpZnkgaW50ZWdyYXRpb24gcG9pbnRzXHJcblx0dGVzdChcInNob3VsZCB2YWxpZGF0ZSB3ZWJjYWwgVVJMIGluIHNldHRpbmdzXCIsICgpID0+IHtcclxuXHRcdC8vIFRoaXMgd291bGQgdGVzdCB0aGUgaW50ZWdyYXRpb24gd2l0aCBJY3NTZXR0aW5nc1RhYlxyXG5cdFx0Y29uc3QgdGVzdFVybCA9IFwid2ViY2FsOi8vZXhhbXBsZS5jb20vY2FsZW5kYXIuaWNzXCI7XHJcblx0XHRjb25zdCByZXN1bHQgPSBXZWJjYWxVcmxDb252ZXJ0ZXIuY29udmVydFdlYmNhbFVybCh0ZXN0VXJsKTtcclxuXHJcblx0XHRleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XHJcblx0XHRleHBlY3QocmVzdWx0Lndhc1dlYmNhbCkudG9CZSh0cnVlKTtcclxuXHR9KTtcclxuXHJcblx0dGVzdChcInNob3VsZCBjb252ZXJ0IHdlYmNhbCBVUkwgaW4gZmV0Y2ggcHJvY2Vzc1wiLCAoKSA9PiB7XHJcblx0XHQvLyBUaGlzIHdvdWxkIHRlc3QgdGhlIGludGVncmF0aW9uIHdpdGggSWNzTWFuYWdlclxyXG5cdFx0Y29uc3QgdGVzdFVybCA9IFwid2ViY2FsOi8vZXhhbXBsZS5jb20vY2FsZW5kYXIuaWNzXCI7XHJcblx0XHRjb25zdCBmZXRjaFVybCA9IFdlYmNhbFVybENvbnZlcnRlci5nZXRGZXRjaFVybCh0ZXN0VXJsKTtcclxuXHJcblx0XHRleHBlY3QoZmV0Y2hVcmwpLnRvQmUoXCJodHRwczovL2V4YW1wbGUuY29tL2NhbGVuZGFyLmljc1wiKTtcclxuXHR9KTtcclxufSk7XHJcbiJdfQ==