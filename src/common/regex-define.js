// Task identification
const TASK_REGEX = /^(([\s>]*)?(-|\d+\.|\*|\+)\s\[([^\[\]]{1})\])\s+(.*)$/m;
// --- Emoji/Tasks Style Regexes ---
const EMOJI_START_DATE_REGEX = /üõ´\s*(\d{4}-\d{2}-\d{2})/;
const EMOJI_COMPLETED_DATE_REGEX = /‚úÖ\s*(\d{4}-\d{2}-\d{2})/;
const EMOJI_DUE_DATE_REGEX = /(?:üìÖ|üóìÔ∏è|üìÜ)\s*(\d{4}-\d{2}-\d{2})/;
const EMOJI_SCHEDULED_DATE_REGEX = /‚è≥\s*(\d{4}-\d{2}-\d{2})/;
const EMOJI_CREATED_DATE_REGEX = /‚ûï\s*(\d{4}-\d{2}-\d{2})/;
const EMOJI_CANCELLED_DATE_REGEX = /‚ùå\s*(\d{4}-\d{2}-\d{2})/;
const EMOJI_ID_REGEX = /üÜî\s*([^\s]+)/;
const EMOJI_DEPENDS_ON_REGEX = /‚õî\s*([^\s]+)/;
const EMOJI_ON_COMPLETION_REGEX = /üèÅ\s*([^\s]+)/;
const EMOJI_RECURRENCE_REGEX = /üîÅ\s*(.*?)(?=\s(?:üìÖ|üóìÔ∏è|üìÜ|üõ´|‚è≥|‚úÖ|‚ûï|‚ùå|üÜî|‚õî|üèÅ|üîÅ|@|#|\[)|$)/u;
const EMOJI_PRIORITY_REGEX = /(([üî∫‚è´üîºüîΩ‚è¨Ô∏è‚è¨])|(\[#[A-E]\]))/u; // Using the corrected variant selector
const EMOJI_CONTEXT_REGEX = /@([\w-]+)/g;
const EMOJI_TAG_REGEX = /#[^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]+/g; // Includes #project/ tags
const EMOJI_PROJECT_PREFIX = "#project/"; // Keep for backward compatibility
// Token regexes for inline items (Unicode-friendly)
export const TOKEN_CONTEXT_REGEX = /@[^ \t#@+\[\]]+/u;
// Function to get configurable project prefix based on format
export const getProjectPrefix = (prefix, format = "emoji") => {
    const projectPrefix = prefix || "project";
    if (format === "dataview") {
        return `[${projectPrefix}::`;
    }
    else {
        return `#${projectPrefix}/`;
    }
};
// Function to get configurable context prefix based on format
// Special handling: emoji format always uses @, dataview format uses configurable prefix
export const getContextPrefix = (prefix, format = "emoji") => {
    if (format === "dataview") {
        const contextPrefix = prefix || "context";
        return `[${contextPrefix}::`;
    }
    else {
        // For emoji format, always use @ (not configurable)
        return "@";
    }
};
// Function to get configurable area prefix based on format
export const getAreaPrefix = (prefix, format = "emoji") => {
    const areaPrefix = prefix || "area";
    if (format === "dataview") {
        return `[${areaPrefix}::`;
    }
    else {
        return `#${areaPrefix}/`;
    }
};
// Function to create dynamic regex for project tags
export const createProjectRegex = (prefix) => {
    const projectPrefix = prefix || "project";
    return new RegExp(`#${projectPrefix}/([\\w-]+)`, "g");
};
// Function to create dynamic regex for dataview project fields
export const createDataviewProjectRegex = (prefix) => {
    const projectPrefix = prefix || "project";
    return new RegExp(`\\[${projectPrefix}::\\s*([^\\]]+)\\]`, "i");
};
// Function to create dynamic regex for dataview context fields
export const createDataviewContextRegex = (prefix) => {
    const contextPrefix = prefix || "context";
    return new RegExp(`\\[${contextPrefix}::\\s*([^\\]]+)\\]`, "i");
};
// --- Dataview Style Regexes ---
const DV_START_DATE_REGEX = /\[(?:start|üõ´)::\s*(\d{4}-\d{2}-\d{2})\]/i;
const DV_COMPLETED_DATE_REGEX = /\[(?:completion|‚úÖ)::\s*(\d{4}-\d{2}-\d{2})\]/i;
const DV_DUE_DATE_REGEX = /\[(?:due|üóìÔ∏è)::\s*(\d{4}-\d{2}-\d{2})\]/i;
const DV_SCHEDULED_DATE_REGEX = /\[(?:scheduled|‚è≥)::\s*(\d{4}-\d{2}-\d{2})\]/i;
const DV_CREATED_DATE_REGEX = /\[(?:created|‚ûï)::\s*(\d{4}-\d{2}-\d{2})\]/i;
const DV_CANCELLED_DATE_REGEX = /\[(?:cancelled|‚ùå)::\s*(\d{4}-\d{2}-\d{2})\]/i;
const DV_ID_REGEX = /\[(?:id|üÜî)::\s*([^\]]+)\]/i;
const DV_DEPENDS_ON_REGEX = /\[(?:dependsOn|‚õî)::\s*([^\]]+)\]/i;
const DV_ON_COMPLETION_REGEX = /\[(?:onCompletion|üèÅ)::\s*([^\]]+)\]/i;
const DV_RECURRENCE_REGEX = /\[(?:repeat|recurrence|üîÅ)::\s*([^\]]+)\]/i;
const DV_PRIORITY_REGEX = /\[priority::\s*([^\]]+)\]/i;
const DV_PROJECT_REGEX = /\[project::\s*([^\]]+)\]/i; // Default project regex
const DV_CONTEXT_REGEX = /\[context::\s*([^\]]+)\]/i; // Default context regex
// Dataview Tag Regex is the same, applied after DV field removal
const ANY_DATAVIEW_FIELD_REGEX = /\[\w+(?:|üóìÔ∏è|‚úÖ|‚ûï|üõ´|‚è≥|üîÅ)::\s*[^\]]+\]/gi;
export { TASK_REGEX, EMOJI_START_DATE_REGEX, EMOJI_COMPLETED_DATE_REGEX, EMOJI_DUE_DATE_REGEX, EMOJI_SCHEDULED_DATE_REGEX, EMOJI_CREATED_DATE_REGEX, EMOJI_CANCELLED_DATE_REGEX, EMOJI_ID_REGEX, EMOJI_DEPENDS_ON_REGEX, EMOJI_ON_COMPLETION_REGEX, EMOJI_RECURRENCE_REGEX, EMOJI_PRIORITY_REGEX, EMOJI_CONTEXT_REGEX, EMOJI_TAG_REGEX, EMOJI_PROJECT_PREFIX, DV_START_DATE_REGEX, DV_COMPLETED_DATE_REGEX, DV_DUE_DATE_REGEX, DV_SCHEDULED_DATE_REGEX, DV_CREATED_DATE_REGEX, DV_CANCELLED_DATE_REGEX, DV_ID_REGEX, DV_DEPENDS_ON_REGEX, DV_ON_COMPLETION_REGEX, DV_RECURRENCE_REGEX, DV_PRIORITY_REGEX, DV_PROJECT_REGEX, DV_CONTEXT_REGEX, ANY_DATAVIEW_FIELD_REGEX, };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVnZXgtZGVmaW5lLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsicmVnZXgtZGVmaW5lLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLHNCQUFzQjtBQUN0QixNQUFNLFVBQVUsR0FBRyx3REFBd0QsQ0FBQztBQUU1RSxvQ0FBb0M7QUFDcEMsTUFBTSxzQkFBc0IsR0FBRywwQkFBMEIsQ0FBQztBQUMxRCxNQUFNLDBCQUEwQixHQUFHLHlCQUF5QixDQUFDO0FBQzdELE1BQU0sb0JBQW9CLEdBQUcscUNBQXFDLENBQUM7QUFDbkUsTUFBTSwwQkFBMEIsR0FBRyx5QkFBeUIsQ0FBQztBQUM3RCxNQUFNLHdCQUF3QixHQUFHLHlCQUF5QixDQUFDO0FBQzNELE1BQU0sMEJBQTBCLEdBQUcseUJBQXlCLENBQUM7QUFDN0QsTUFBTSxjQUFjLEdBQUcsZUFBZSxDQUFDO0FBQ3ZDLE1BQU0sc0JBQXNCLEdBQUcsY0FBYyxDQUFDO0FBQzlDLE1BQU0seUJBQXlCLEdBQUcsZUFBZSxDQUFDO0FBQ2xELE1BQU0sc0JBQXNCLEdBQzNCLCtEQUErRCxDQUFDO0FBQ2pFLE1BQU0sb0JBQW9CLEdBQUcsZ0NBQWdDLENBQUMsQ0FBQyx1Q0FBdUM7QUFDdEcsTUFBTSxtQkFBbUIsR0FBRyxZQUFZLENBQUM7QUFDekMsTUFBTSxlQUFlLEdBQ3BCLG9FQUFvRSxDQUFDLENBQUMsMEJBQTBCO0FBQ2pHLE1BQU0sb0JBQW9CLEdBQUcsV0FBVyxDQUFDLENBQUMsa0NBQWtDO0FBRTVFLG9EQUFvRDtBQUNwRCxNQUFNLENBQUMsTUFBTSxtQkFBbUIsR0FBRyxrQkFBa0IsQ0FBQztBQUt0RCw4REFBOEQ7QUFDOUQsTUFBTSxDQUFDLE1BQU0sZ0JBQWdCLEdBQUcsQ0FDL0IsTUFBZSxFQUNmLFNBQXlCLE9BQU8sRUFDdkIsRUFBRTtJQUNYLE1BQU0sYUFBYSxHQUFHLE1BQU0sSUFBSSxTQUFTLENBQUM7SUFDMUMsSUFBSSxNQUFNLEtBQUssVUFBVSxFQUFFO1FBQzFCLE9B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QXNCLEVBQ3RCLHlCQUF5QixFQUN6QixzQkFBc0IsRUFDdEIsb0JBQW9CLEVBQ3BCLG1CQUFtQixFQUNuQixlQUFlLEVBQ2Ysb0JBQW9CLEVBQ3BCLG1CQUFtQixFQUNuQix1QkFBdUIsRUFDdkIsaUJBQWlCLEVBQ2pCLHVCQUF1QixFQUN2QixxQkFBcUIsRUFDckIsdUJBQXVCLEVBQ3ZCLFdBQVcsRUFDWCxtQkFBbUIsRUFDbkIsc0JBQXNCLEVBQ3RCLG1CQUFtQixFQUNuQixpQkFBaUIsRUFDakIsZ0JBQWdCLEVBQ2hCLGdCQUFnQixFQUNoQix3QkFBd0IsR0FDeEIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIFRhc2sgaWRlbnRpZmljYXRpb25cclxuY29uc3QgVEFTS19SRUdFWCA9IC9eKChbXFxzPl0qKT8oLXxcXGQrXFwufFxcKnxcXCspXFxzXFxbKFteXFxbXFxdXXsxfSlcXF0pXFxzKyguKikkL207XHJcblxyXG4vLyAtLS0gRW1vamkvVGFza3MgU3R5bGUgUmVnZXhlcyAtLS1cclxuY29uc3QgRU1PSklfU1RBUlRfREFURV9SRUdFWCA9IC/wn5urXFxzKihcXGR7NH0tXFxkezJ9LVxcZHsyfSkvO1xyXG5jb25zdCBFTU9KSV9DT01QTEVURURfREFURV9SRUdFWCA9IC/inIVcXHMqKFxcZHs0fS1cXGR7Mn0tXFxkezJ9KS87XHJcbmNvbnN0IEVNT0pJX0RVRV9EQVRFX1JFR0VYID0gLyg/OvCfk4V88J+Xk++4j3zwn5OGKVxccyooXFxkezR9LVxcZHsyfS1cXGR7Mn0pLztcclxuY29uc3QgRU1PSklfU0NIRURVTEVEX0RBVEVfUkVHRVggPSAv4o+zXFxzKihcXGR7NH0tXFxkezJ9LVxcZHsyfSkvO1xyXG5jb25zdCBFTU9KSV9DUkVBVEVEX0RBVEVfUkVHRVggPSAv4p6VXFxzKihcXGR7NH0tXFxkezJ9LVxcZHsyfSkvO1xyXG5jb25zdCBFTU9KSV9DQU5DRUxMRURfREFURV9SRUdFWCA9IC/inYxcXHMqKFxcZHs0fS1cXGR7Mn0tXFxkezJ9KS87XHJcbmNvbnN0IEVNT0pJX0lEX1JFR0VYID0gL/CfhpRcXHMqKFteXFxzXSspLztcclxuY29uc3QgRU1PSklfREVQRU5EU19PTl9SRUdFWCA9IC/im5RcXHMqKFteXFxzXSspLztcclxuY29uc3QgRU1PSklfT05fQ09NUExFVElPTl9SRUdFWCA9IC/wn4+BXFxzKihbXlxcc10rKS87XHJcbmNvbnN0IEVNT0pJX1JFQ1VSUkVOQ0VfUkVHRVggPVxyXG5cdC/wn5SBXFxzKiguKj8pKD89XFxzKD868J+ThXzwn5eT77iPfPCfk4Z88J+bq3zij7N84pyFfOKelXzinYx88J+GlHzim5R88J+PgXzwn5SBfEB8I3xcXFspfCQpL3U7XHJcbmNvbnN0IEVNT0pJX1BSSU9SSVRZX1JFR0VYID0gLygoW/CflLrij6vwn5S88J+UveKPrO+4j+KPrF0pfChcXFsjW0EtRV1cXF0pKS91OyAvLyBVc2luZyB0aGUgY29ycmVjdGVkIHZhcmlhbnQgc2VsZWN0b3JcclxuY29uc3QgRU1PSklfQ09OVEVYVF9SRUdFWCA9IC9AKFtcXHctXSspL2c7XHJcbmNvbnN0IEVNT0pJX1RBR19SRUdFWCA9XHJcblx0LyNbXlxcdTIwMDAtXFx1MjA2RlxcdTJFMDAtXFx1MkU3RichXCIjJCUmKCkqKywuOjs8PT4/QF5ge3x9flxcW1xcXVxcXFxcXHNdKy9nOyAvLyBJbmNsdWRlcyAjcHJvamVjdC8gdGFnc1xyXG5jb25zdCBFTU9KSV9QUk9KRUNUX1BSRUZJWCA9IFwiI3Byb2plY3QvXCI7IC8vIEtlZXAgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcclxuXHJcbi8vIFRva2VuIHJlZ2V4ZXMgZm9yIGlubGluZSBpdGVtcyAoVW5pY29kZS1mcmllbmRseSlcclxuZXhwb3J0IGNvbnN0IFRPS0VOX0NPTlRFWFRfUkVHRVggPSAvQFteIFxcdCNAK1xcW1xcXV0rL3U7XHJcblxyXG4vLyBGb3JtYXQgdHlwZXMgZm9yIHByZWZpeCBnZW5lcmF0aW9uXHJcbmV4cG9ydCB0eXBlIE1ldGFkYXRhRm9ybWF0ID0gXCJlbW9qaVwiIHwgXCJkYXRhdmlld1wiO1xyXG5cclxuLy8gRnVuY3Rpb24gdG8gZ2V0IGNvbmZpZ3VyYWJsZSBwcm9qZWN0IHByZWZpeCBiYXNlZCBvbiBmb3JtYXRcclxuZXhwb3J0IGNvbnN0IGdldFByb2plY3RQcmVmaXggPSAoXHJcblx0cHJlZml4Pzogc3RyaW5nLFxyXG5cdGZvcm1hdDogTWV0YWRhdGFGb3JtYXQgPSBcImVtb2ppXCJcclxuKTogc3RyaW5nID0+IHtcclxuXHRjb25zdCBwcm9qZWN0UHJlZml4ID0gcHJlZml4IHx8IFwicHJvamVjdFwiO1xyXG5cdGlmIChmb3JtYXQgPT09IFwiZGF0YXZpZXdcIikge1xyXG5cdFx0cmV0dXJuIGBbJHtwcm9qZWN0UHJlZml4fTo6YDtcclxuXHR9IGVsc2Uge1xyXG5cdFx0cmV0dXJuIGAjJHtwcm9qZWN0UHJlZml4fS9gO1xyXG5cdH1cclxufTtcclxuXHJcbi8vIEZ1bmN0aW9uIHRvIGdldCBjb25maWd1cmFibGUgY29udGV4dCBwcmVmaXggYmFzZWQgb24gZm9ybWF0XHJcbi8vIFNwZWNpYWwgaGFuZGxpbmc6IGVtb2ppIGZvcm1hdCBhbHdheXMgdXNlcyBALCBkYXRhdmlldyBmb3JtYXQgdXNlcyBjb25maWd1cmFibGUgcHJlZml4XHJcbmV4cG9ydCBjb25zdCBnZXRDb250ZXh0UHJlZml4ID0gKFxyXG5cdHByZWZpeD86IHN0cmluZyxcclxuXHRmb3JtYXQ6IE1ldGFkYXRhRm9ybWF0ID0gXCJlbW9qaVwiXHJcbik6IHN0cmluZyA9PiB7XHJcblx0aWYgKGZvcm1hdCA9PT0gXCJkYXRhdmlld1wiKSB7XHJcblx0XHRjb25zdCBjb250ZXh0UHJlZml4ID0gcHJlZml4IHx8IFwiY29udGV4dFwiO1xyXG5cdFx0cmV0dXJuIGBbJHtjb250ZXh0UHJlZml4fTo6YDtcclxuXHR9IGVsc2Uge1xyXG5cdFx0Ly8gRm9yIGVtb2ppIGZvcm1hdCwgYWx3YXlzIHVzZSBAIChub3QgY29uZmlndXJhYmxlKVxyXG5cdFx0cmV0dXJuIFwiQFwiO1xyXG5cdH1cclxufTtcclxuXHJcbi8vIEZ1bmN0aW9uIHRvIGdldCBjb25maWd1cmFibGUgYXJlYSBwcmVmaXggYmFzZWQgb24gZm9ybWF0XHJcbmV4cG9ydCBjb25zdCBnZXRBcmVhUHJlZml4ID0gKFxyXG5cdHByZWZpeD86IHN0cmluZyxcclxuXHRmb3JtYXQ6IE1ldGFkYXRhRm9ybWF0ID0gXCJlbW9qaVwiXHJcbik6IHN0cmluZyA9PiB7XHJcblx0Y29uc3QgYXJlYVByZWZpeCA9IHByZWZpeCB8fCBcImFyZWFcIjtcclxuXHRpZiAoZm9ybWF0ID09PSBcImRhdGF2aWV3XCIpIHtcclxuXHRcdHJldHVybiBgWyR7YXJlYVByZWZpeH06OmA7XHJcblx0fSBlbHNlIHtcclxuXHRcdHJldHVybiBgIyR7YXJlYVByZWZpeH0vYDtcclxuXHR9XHJcbn07XHJcblxyXG4vLyBGdW5jdGlvbiB0byBjcmVhdGUgZHluYW1pYyByZWdleCBmb3IgcHJvamVjdCB0YWdzXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVQcm9qZWN0UmVnZXggPSAocHJlZml4Pzogc3RyaW5nKTogUmVnRXhwID0+IHtcclxuXHRjb25zdCBwcm9qZWN0UHJlZml4ID0gcHJlZml4IHx8IFwicHJvamVjdFwiO1xyXG5cdHJldHVybiBuZXcgUmVnRXhwKGAjJHtwcm9qZWN0UHJlZml4fS8oW1xcXFx3LV0rKWAsIFwiZ1wiKTtcclxufTtcclxuXHJcbi8vIEZ1bmN0aW9uIHRvIGNyZWF0ZSBkeW5hbWljIHJlZ2V4IGZvciBkYXRhdmlldyBwcm9qZWN0IGZpZWxkc1xyXG5leHBvcnQgY29uc3QgY3JlYXRlRGF0YXZpZXdQcm9qZWN0UmVnZXggPSAocHJlZml4Pzogc3RyaW5nKTogUmVnRXhwID0+IHtcclxuXHRjb25zdCBwcm9qZWN0UHJlZml4ID0gcHJlZml4IHx8IFwicHJvamVjdFwiO1xyXG5cdHJldHVybiBuZXcgUmVnRXhwKGBcXFxcWyR7cHJvamVjdFByZWZpeH06OlxcXFxzKihbXlxcXFxdXSspXFxcXF1gLCBcImlcIik7XHJcbn07XHJcblxyXG4vLyBGdW5jdGlvbiB0byBjcmVhdGUgZHluYW1pYyByZWdleCBmb3IgZGF0YXZpZXcgY29udGV4dCBmaWVsZHNcclxuZXhwb3J0IGNvbnN0IGNyZWF0ZURhdGF2aWV3Q29udGV4dFJlZ2V4ID0gKHByZWZpeD86IHN0cmluZyk6IFJlZ0V4cCA9PiB7XHJcblx0Y29uc3QgY29udGV4dFByZWZpeCA9IHByZWZpeCB8fCBcImNvbnRleHRcIjtcclxuXHRyZXR1cm4gbmV3IFJlZ0V4cChgXFxcXFske2NvbnRleHRQcmVmaXh9OjpcXFxccyooW15cXFxcXV0rKVxcXFxdYCwgXCJpXCIpO1xyXG59O1xyXG5cclxuLy8gLS0tIERhdGF2aWV3IFN0eWxlIFJlZ2V4ZXMgLS0tXHJcbmNvbnN0IERWX1NUQVJUX0RBVEVfUkVHRVggPSAvXFxbKD86c3RhcnR88J+bqyk6OlxccyooXFxkezR9LVxcZHsyfS1cXGR7Mn0pXFxdL2k7XHJcbmNvbnN0IERWX0NPTVBMRVRFRF9EQVRFX1JFR0VYID1cclxuXHQvXFxbKD86Y29tcGxldGlvbnzinIUpOjpcXHMqKFxcZHs0fS1cXGR7Mn0tXFxkezJ9KVxcXS9pO1xyXG5jb25zdCBEVl9EVUVfREFURV9SRUdFWCA9IC9cXFsoPzpkdWV88J+Xk++4jyk6OlxccyooXFxkezR9LVxcZHsyfS1cXGR7Mn0pXFxdL2k7XHJcbmNvbnN0IERWX1NDSEVEVUxFRF9EQVRFX1JFR0VYID0gL1xcWyg/OnNjaGVkdWxlZHzij7MpOjpcXHMqKFxcZHs0fS1cXGR7Mn0tXFxkezJ9KVxcXS9pO1xyXG5jb25zdCBEVl9DUkVBVEVEX0RBVEVfUkVHRVggPSAvXFxbKD86Y3JlYXRlZHzinpUpOjpcXHMqKFxcZHs0fS1cXGR7Mn0tXFxkezJ9KVxcXS9pO1xyXG5jb25zdCBEVl9DQU5DRUxMRURfREFURV9SRUdFWCA9IC9cXFsoPzpjYW5jZWxsZWR84p2MKTo6XFxzKihcXGR7NH0tXFxkezJ9LVxcZHsyfSlcXF0vaTtcclxuY29uc3QgRFZfSURfUkVHRVggPSAvXFxbKD86aWR88J+GlCk6OlxccyooW15cXF1dKylcXF0vaTtcclxuY29uc3QgRFZfREVQRU5EU19PTl9SRUdFWCA9IC9cXFsoPzpkZXBlbmRzT2584puUKTo6XFxzKihbXlxcXV0rKVxcXS9pO1xyXG5jb25zdCBEVl9PTl9DT01QTEVUSU9OX1JFR0VYID0gL1xcWyg/Om9uQ29tcGxldGlvbnzwn4+BKTo6XFxzKihbXlxcXV0rKVxcXS9pO1xyXG5jb25zdCBEVl9SRUNVUlJFTkNFX1JFR0VYID0gL1xcWyg/OnJlcGVhdHxyZWN1cnJlbmNlfPCflIEpOjpcXHMqKFteXFxdXSspXFxdL2k7XHJcbmNvbnN0IERWX1BSSU9SSVRZX1JFR0VYID0gL1xcW3ByaW9yaXR5OjpcXHMqKFteXFxdXSspXFxdL2k7XHJcbmNvbnN0IERWX1BST0pFQ1RfUkVHRVggPSAvXFxbcHJvamVjdDo6XFxzKihbXlxcXV0rKVxcXS9pOyAvLyBEZWZhdWx0IHByb2plY3QgcmVnZXhcclxuY29uc3QgRFZfQ09OVEVYVF9SRUdFWCA9IC9cXFtjb250ZXh0OjpcXHMqKFteXFxdXSspXFxdL2k7IC8vIERlZmF1bHQgY29udGV4dCByZWdleFxyXG4vLyBEYXRhdmlldyBUYWcgUmVnZXggaXMgdGhlIHNhbWUsIGFwcGxpZWQgYWZ0ZXIgRFYgZmllbGQgcmVtb3ZhbFxyXG5jb25zdCBBTllfREFUQVZJRVdfRklFTERfUkVHRVggPSAvXFxbXFx3Kyg/Onzwn5eT77iPfOKchXzinpV88J+bq3zij7N88J+UgSk6OlxccypbXlxcXV0rXFxdL2dpO1xyXG5cclxuZXhwb3J0IHtcclxuXHRUQVNLX1JFR0VYLFxyXG5cdEVNT0pJX1NUQVJUX0RBVEVfUkVHRVgsXHJcblx0RU1PSklfQ09NUExFVEVEX0RBVEVfUkVHRVgsXHJcblx0RU1PSklfRFVFX0RBVEVfUkVHRVgsXHJcblx0RU1PSklfU0NIRURVTEVEX0RBVEVfUkVHRVgsXHJcblx0RU1PSklfQ1JFQVRFRF9EQVRFX1JFR0VYLFxyXG5cdEVNT0pJX0NBTkNFTExFRF9EQVRFX1JFR0VYLFxyXG5cdEVNT0pJX0lEX1JFR0VYLFxyXG5cdEVNT0pJX0RFUEVORFNfT05fUkVHRVgsXHJcblx0RU1PSklfT05fQ09NUExFVElPTl9SRUdFWCxcclxuXHRFTU9KSV9SRUNVUlJFTkNFX1JFR0VYLFxyXG5cdEVNT0pJX1BSSU9SSVRZX1JFR0VYLFxyXG5cdEVNT0pJX0NPTlRFWFRfUkVHRVgsXHJcblx0RU1PSklfVEFHX1JFR0VYLFxyXG5cdEVNT0pJX1BST0pFQ1RfUFJFRklYLFxyXG5cdERWX1NUQVJUX0RBVEVfUkVHRVgsXHJcblx0RFZfQ09NUExFVEVEX0RBVEVfUkVHRVgsXHJcblx0RFZfRFVFX0RBVEVfUkVHRVgsXHJcblx0RFZfU0NIRURVTEVEX0RBVEVfUkVHRVgsXHJcblx0RFZfQ1JFQVRFRF9EQVRFX1JFR0VYLFxyXG5cdERWX0NBTkNFTExFRF9EQVRFX1JFR0VYLFxyXG5cdERWX0lEX1JFR0VYLFxyXG5cdERWX0RFUEVORFNfT05fUkVHRVgsXHJcblx0RFZfT05fQ09NUExFVElPTl9SRUdFWCxcclxuXHREVl9SRUNVUlJFTkNFX1JFR0VYLFxyXG5cdERWX1BSSU9SSVRZX1JFR0VYLFxyXG5cdERWX1BST0pFQ1RfUkVHRVgsXHJcblx0RFZfQ09OVEVYVF9SRUdFWCxcclxuXHRBTllfREFUQVZJRVdfRklFTERfUkVHRVgsXHJcbn07XHJcbiJdfQ==