import { __awaiter } from "tslib";
import { Setting, Notice } from "obsidian";
import { t } from "@/translations/helper";
export function renderTimelineSidebarSettingsTab(settingTab, containerEl) {
    new Setting(containerEl).setName(t("Timeline Sidebar")).setHeading();
    new Setting(containerEl)
        .setName(t("Enable Timeline Sidebar"))
        .setDesc(t("Toggle this to enable the timeline sidebar view for quick access to your daily events and tasks."))
        .addToggle((toggle) => toggle
        .setValue(settingTab.plugin.settings.timelineSidebar
        .enableTimelineSidebar)
        .onChange((value) => __awaiter(this, void 0, void 0, function* () {
        settingTab.plugin.settings.timelineSidebar.enableTimelineSidebar =
            value;
        settingTab.applySettingsUpdate();
        setTimeout(() => {
            settingTab.display();
            if (value) {
                settingTab.plugin.activateTimelineSidebarView();
            }
        }, 200);
    })));
    if (!settingTab.plugin.settings.timelineSidebar.enableTimelineSidebar)
        return;
    new Setting(containerEl)
        .setName(t("Auto-open on startup"))
        .setDesc(t("Automatically open the timeline sidebar when Obsidian starts."))
        .addToggle((toggle) => toggle
        .setValue(settingTab.plugin.settings.timelineSidebar.autoOpenOnStartup)
        .onChange((value) => __awaiter(this, void 0, void 0, function* () {
        settingTab.plugin.settings.timelineSidebar.autoOpenOnStartup =
            value;
        settingTab.applySettingsUpdate();
    })));
    new Setting(containerEl)
        .setName(t("Show completed tasks"))
        .setDesc(t("Include completed tasks in the timeline view. When disabled, only incomplete tasks will be shown."))
        .addToggle((toggle) => toggle
        .setValue(settingTab.plugin.settings.timelineSidebar
        .showCompletedTasks)
        .onChange((value) => __awaiter(this, void 0, void 0, function* () {
        settingTab.plugin.settings.timelineSidebar.showCompletedTasks =
            value;
        settingTab.applySettingsUpdate();
    })));
    new Setting(containerEl)
        .setName(t("Focus mode by default"))
        .setDesc(t("Enable focus mode by default, which highlights today's events and dims past/future events."))
        .addToggle((toggle) => toggle
        .setValue(settingTab.plugin.settings.timelineSidebar
        .focusModeByDefault)
        .onChange((value) => __awaiter(this, void 0, void 0, function* () {
        settingTab.plugin.settings.timelineSidebar.focusModeByDefault =
            value;
        settingTab.applySettingsUpdate();
    })));
    new Setting(containerEl)
        .setName(t("Maximum events to show"))
        .setDesc(t("Maximum number of events to display in the timeline. Higher numbers may affect performance."))
        .addSlider((slider) => slider
        .setLimits(50, 500, 25)
        .setValue(settingTab.plugin.settings.timelineSidebar.maxEventsToShow)
        .setDynamicTooltip()
        .onChange((value) => __awaiter(this, void 0, void 0, function* () {
        settingTab.plugin.settings.timelineSidebar.maxEventsToShow =
            value;
        settingTab.applySettingsUpdate();
    })));
    // Add a button to open the timeline sidebar
    new Setting(containerEl)
        .setName(t("Open Timeline Sidebar"))
        .setDesc(t("Click to open the timeline sidebar view."))
        .addButton((button) => button
        .setButtonText(t("Open Timeline"))
        .setCta()
        .onClick(() => __awaiter(this, void 0, void 0, function* () {
        yield settingTab.plugin.activateTimelineSidebarView();
        new Notice(t("Timeline sidebar opened"));
    })));
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVGltZWxpbmVTaWRlYmFyU2V0dGluZ3NUYWIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJUaW1lbGluZVNpZGViYXJTZXR0aW5nc1RhYi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxVQUFVLENBQUM7QUFFM0MsT0FBTyxFQUFFLENBQUMsRUFBRSxNQUFNLHVCQUF1QixDQUFDO0FBRTFDLE1BQU0sVUFBVSxnQ0FBZ0MsQ0FDL0MsVUFBcUMsRUFDckMsV0FBd0I7SUFFeEIsSUFBSSxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLENBQUMsVUFBVSxFQUFFLENBQUM7SUFFckUsSUFBSSxPQUFPLENBQUMsV0FBVyxDQUFDO1NBQ3RCLE9BQU8sQ0FBQyxDQUFDLENBQUMseUJBQXlCLENBQUMsQ0FBQztTQUNyQyxPQUFPLENBQ1AsQ0FBQyxDQUNBLGtHQUFrRyxDQUNsRyxDQUNEO1NBQ0EsU0FBUyxDQUFDLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FDckIsTUFBTTtTQUNKLFFBQVEsQ0FDUixVQUFVLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxlQUFlO1NBQ3hDLHFCQUFxQixDQUN2QjtTQUNBLFFBQVEsQ0FBQyxDQUFPLEtBQUssRUFBRSxFQUFFO1FBQ3pCLFVBQVUsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLGVBQWUsQ0FBQyxxQkFBcUI7WUFDL0QsS0FBSyxDQUFDO1FBQ1AsVUFBVSxDQUFDLG1CQUFtQixFQUFFLENBQUM7UUFFakMsVUFBVSxDQUFDLEdBQUcsRUFBRTtZQUNmLFVBQVUsQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUNyQixJQUFJLEtBQUssRUFBRTtnQkFDVixVQUFVLENBQUMsTUFBTSxDQUFDLDJCQUEyQixFQUFFLENBQUM7YUFDaEQ7UUFDRixDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDVCxD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T0FBTyxDQUFDLENBQUMsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO1NBQ25DLE9BQU8sQ0FBQyxDQUFDLENBQUMsMENBQTBDLENBQUMsQ0FBQztTQUN0RCxTQUFTLENBQUMsQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUNyQixNQUFNO1NBQ0osYUFBYSxDQUFDLENBQUMsQ0FBQyxlQUFlLENBQUMsQ0FBQztTQUNqQyxNQUFNLEVBQUU7U0FDUixPQUFPLENBQUMsR0FBUyxFQUFFO1FBQ25CLE1BQU0sVUFBVSxDQUFDLE1BQU0sQ0FBQywyQkFBMkIsRUFBRSxDQUFDO1FBQ3RELElBQUksTUFBTSxDQUFDLENBQUMsQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDLENBQUM7SUFDMUMsQ0FBQyxDQUFBLENBQUMsQ0FDSCxDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNldHRpbmcsIE5vdGljZSB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5pbXBvcnQgeyBUYXNrUHJvZ3Jlc3NCYXJTZXR0aW5nVGFiIH0gZnJvbSBcIkAvc2V0dGluZ1wiO1xyXG5pbXBvcnQgeyB0IH0gZnJvbSBcIkAvdHJhbnNsYXRpb25zL2hlbHBlclwiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlclRpbWVsaW5lU2lkZWJhclNldHRpbmdzVGFiKFxyXG5cdHNldHRpbmdUYWI6IFRhc2tQcm9ncmVzc0JhclNldHRpbmdUYWIsXHJcblx0Y29udGFpbmVyRWw6IEhUTUxFbGVtZW50XHJcbikge1xyXG5cdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKS5zZXROYW1lKHQoXCJUaW1lbGluZSBTaWRlYmFyXCIpKS5zZXRIZWFkaW5nKCk7XHJcblxyXG5cdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0LnNldE5hbWUodChcIkVuYWJsZSBUaW1lbGluZSBTaWRlYmFyXCIpKVxyXG5cdFx0LnNldERlc2MoXHJcblx0XHRcdHQoXHJcblx0XHRcdFx0XCJUb2dnbGUgdGhpcyB0byBlbmFibGUgdGhlIHRpbWVsaW5lIHNpZGViYXIgdmlldyBmb3IgcXVpY2sgYWNjZXNzIHRvIHlvdXIgZGFpbHkgZXZlbnRzIGFuZCB0YXNrcy5cIlxyXG5cdFx0XHQpXHJcblx0XHQpXHJcblx0XHQuYWRkVG9nZ2xlKCh0b2dnbGUpID0+XHJcblx0XHRcdHRvZ2dsZVxyXG5cdFx0XHRcdC5zZXRWYWx1ZShcclxuXHRcdFx0XHRcdHNldHRpbmdUYWIucGx1Z2luLnNldHRpbmdzLnRpbWVsaW5lU2lkZWJhclxyXG5cdFx0XHRcdFx0XHQuZW5hYmxlVGltZWxpbmVTaWRlYmFyXHJcblx0XHRcdFx0KVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHNldHRpbmdUYWIucGx1Z2luLnNldHRpbmdzLnRpbWVsaW5lU2lkZWJhci5lbmFibGVUaW1lbGluZVNpZGViYXIgPVxyXG5cdFx0XHRcdFx0XHR2YWx1ZTtcclxuXHRcdFx0XHRcdHNldHRpbmdUYWIuYXBwbHlTZXR0aW5nc1VwZGF0ZSgpO1xyXG5cclxuXHRcdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRzZXR0aW5nVGFiLmRpc3BsYXkoKTtcclxuXHRcdFx0XHRcdFx0aWYgKHZhbHVlKSB7XHJcblx0XHRcdFx0XHRcdFx0c2V0dGluZ1RhYi5wbHVnaW4uYWN0aXZhdGVUaW1lbGluZVNpZGViYXJWaWV3KCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0sIDIwMCk7XHJcblx0XHRcdFx0fSlcclxuXHRcdCk7XHJcblxyXG5cdGlmICghc2V0dGluZ1RhYi5wbHVnaW4uc2V0dGluZ3MudGltZWxpbmVTaWRlYmFyLmVuYWJsZVRpbWVsaW5lU2lkZWJhcilcclxuXHRcdHJldHVybjtcclxuXHJcblx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHQuc2V0TmFtZSh0KFwiQXV0by1vcGVuIG9uIHN0YXJ0dXBcIikpXHJcblx0XHQuc2V0RGVzYyhcclxuXHRcdFx0dChcIkF1dG9tYXRpY2FsbHkgb3BlbiB0aGUgdGltZWxpbmUgc2lkZWJhciB3aGVuIE9ic2lkaWFuIHN0YXJ0cy5cIilcclxuXHRcdClcclxuXHRcdC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT5cclxuXHRcdFx0dG9nZ2xlXHJcblx0XHRcdFx0LnNldFZhbHVlKFxyXG5cdFx0XHRcdFx0c2V0dGluZ1RhYi5wbHVnaW4uc2V0dGluZ3MudGltZWxpbmVTaWRlYmFyLmF1dG9PcGVuT25TdGFydHVwXHJcblx0XHRcdFx0KVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHNldHRpbmdUYWIucGx1Z2luLnNldHRpbmdzLnRpbWVsaW5lU2lkZWJhci5hdXRvT3Blbk9uU3RhcnR1cCA9XHJcblx0XHRcdFx0XHRcdHZhbHVlO1xyXG5cdFx0XHRcdFx0c2V0dGluZ1RhYi5hcHBseVNldHRpbmdzVXBkYXRlKCk7XHJcblx0XHRcdFx0fSlcclxuXHRcdCk7XHJcblxyXG5cdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0LnNldE5hbWUodChcIlNob3cgY29tcGxldGVkIHRhc2tzXCIpKVxyXG5cdFx0LnNldERlc2MoXHJcblx0XHRcdHQoXHJcblx0XHRcdFx0XCJJbmNsdWRlIGNvbXBsZXRlZCB0YXNrcyBpbiB0aGUgdGltZWxpbmUgdmlldy4gV2hlbiBkaXNhYmxlZCwgb25seSBpbmNvbXBsZXRlIHRhc2tzIHdpbGwgYmUgc2hvd24uXCJcclxuXHRcdFx0KVxyXG5cdFx0KVxyXG5cdFx0LmFkZFRvZ2dsZSgodG9nZ2xlKSA9PlxyXG5cdFx0XHR0b2dnbGVcclxuXHRcdFx0XHQuc2V0VmFsdWUoXHJcblx0XHRcdFx0XHRzZXR0aW5nVGFiLnBsdWdpbi5zZXR0aW5ncy50aW1lbGluZVNpZGViYXJcclxuXHRcdFx0XHRcdFx0LnNob3dDb21wbGV0ZWRUYXNrc1xyXG5cdFx0XHRcdClcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRzZXR0aW5nVGFiLnBsdWdpbi5zZXR0aW5ncy50aW1lbGluZVNpZGViYXIuc2hvd0NvbXBsZXRlZFRhc2tzID1cclxuXHRcdFx0XHRcdFx0dmFsdWU7XHJcblx0XHRcdFx0XHRzZXR0aW5nVGFiLmFwcGx5U2V0dGluZ3NVcGRhdGUoKTtcclxuXHRcdFx0XHR9KVxyXG5cdFx0KTtcclxuXHJcblx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHQuc2V0TmFtZSh0KFwiRm9jdXMgbW9kZSBieSBkZWZhdWx0XCIpKVxyXG5cdFx0LnNldERlc2MoXHJcblx0XHRcdHQoXHJcblx0XHRcdFx0XCJFbmFibGUgZm9jdXMgbW9kZSBieSBkZWZhdWx0LCB3aGljaCBoaWdobGlnaHRzIHRvZGF5J3MgZXZlbnRzIGFuZCBkaW1zIHBhc3QvZnV0dXJlIGV2ZW50cy5cIlxyXG5cdFx0XHQpXHJcblx0XHQpXHJcblx0XHQuYWRkVG9nZ2xlKCh0b2dnbGUpID0+XHJcblx0XHRcdHRvZ2dsZVxyXG5cdFx0XHRcdC5zZXRWYWx1ZShcclxuXHRcdFx0XHRcdHNldHRpbmdUYWIucGx1Z2luLnNldHRpbmdzLnRpbWVsaW5lU2lkZWJhclxyXG5cdFx0XHRcdFx0XHQuZm9jdXNNb2RlQnlEZWZhdWx0XHJcblx0XHRcdFx0KVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHNldHRpbmdUYWIucGx1Z2luLnNldHRpbmdzLnRpbWVsaW5lU2lkZWJhci5mb2N1c01vZGVCeURlZmF1bHQgPVxyXG5cdFx0XHRcdFx0XHR2YWx1ZTtcclxuXHRcdFx0XHRcdHNldHRpbmdUYWIuYXBwbHlTZXR0aW5nc1VwZGF0ZSgpO1xyXG5cdFx0XHRcdH0pXHJcblx0XHQpO1xyXG5cclxuXHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdC5zZXROYW1lKHQoXCJNYXhpbXVtIGV2ZW50cyB0byBzaG93XCIpKVxyXG5cdFx0LnNldERlc2MoXHJcblx0XHRcdHQoXHJcblx0XHRcdFx0XCJNYXhpbXVtIG51bWJlciBvZiBldmVudHMgdG8gZGlzcGxheSBpbiB0aGUgdGltZWxpbmUuIEhpZ2hlciBudW1iZXJzIG1heSBhZmZlY3QgcGVyZm9ybWFuY2UuXCJcclxuXHRcdFx0KVxyXG5cdFx0KVxyXG5cdFx0LmFkZFNsaWRlcigoc2xpZGVyKSA9PlxyXG5cdFx0XHRzbGlkZXJcclxuXHRcdFx0XHQuc2V0TGltaXRzKDUwLCA1MDAsIDI1KVxyXG5cdFx0XHRcdC5zZXRWYWx1ZShcclxuXHRcdFx0XHRcdHNldHRpbmdUYWIucGx1Z2luLnNldHRpbmdzLnRpbWVsaW5lU2lkZWJhci5tYXhFdmVudHNUb1Nob3dcclxuXHRcdFx0XHQpXHJcblx0XHRcdFx0LnNldER5bmFtaWNUb29sdGlwKClcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRzZXR0aW5nVGFiLnBsdWdpbi5zZXR0aW5ncy50aW1lbGluZVNpZGViYXIubWF4RXZlbnRzVG9TaG93ID1cclxuXHRcdFx0XHRcdFx0dmFsdWU7XHJcblx0XHRcdFx0XHRzZXR0aW5nVGFiLmFwcGx5U2V0dGluZ3NVcGRhdGUoKTtcclxuXHRcdFx0XHR9KVxyXG5cdFx0KTtcclxuXHJcblx0Ly8gQWRkIGEgYnV0dG9uIHRvIG9wZW4gdGhlIHRpbWVsaW5lIHNpZGViYXJcclxuXHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdC5zZXROYW1lKHQoXCJPcGVuIFRpbWVsaW5lIFNpZGViYXJcIikpXHJcblx0XHQuc2V0RGVzYyh0KFwiQ2xpY2sgdG8gb3BlbiB0aGUgdGltZWxpbmUgc2lkZWJhciB2aWV3LlwiKSlcclxuXHRcdC5hZGRCdXR0b24oKGJ1dHRvbikgPT5cclxuXHRcdFx0YnV0dG9uXHJcblx0XHRcdFx0LnNldEJ1dHRvblRleHQodChcIk9wZW4gVGltZWxpbmVcIikpXHJcblx0XHRcdFx0LnNldEN0YSgpXHJcblx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0YXdhaXQgc2V0dGluZ1RhYi5wbHVnaW4uYWN0aXZhdGVUaW1lbGluZVNpZGViYXJWaWV3KCk7XHJcblx0XHRcdFx0XHRuZXcgTm90aWNlKHQoXCJUaW1lbGluZSBzaWRlYmFyIG9wZW5lZFwiKSk7XHJcblx0XHRcdFx0fSlcclxuXHRcdCk7XHJcbn1cclxuIl19