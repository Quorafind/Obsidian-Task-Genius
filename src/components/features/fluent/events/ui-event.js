import { emit as coreEmit, on as coreOn, Seq } from "@/dataflow/events/Events";
export const UIEvents = {
    WORKSPACE_SWITCHED: "task-genius:ui-workspace-switched",
    WORKSPACE_OVERRIDES_SAVED: "task-genius:ui-workspace-overrides-saved",
    WORKSPACE_RESET: "task-genius:ui-workspace-reset",
    DEFAULT_WORKSPACE_CHANGED: "task-genius:ui-default-workspace-changed",
    WORKSPACE_CREATED: "task-genius:ui-workspace-created",
    WORKSPACE_DELETED: "task-genius:ui-workspace-deleted",
    WORKSPACE_RENAMED: "task-genius:ui-workspace-renamed",
    // Cross-view UI events for V2 architecture
    SIDEBAR_SELECTION_CHANGED: "task-genius:sidebar-selection-changed",
    TASK_SELECTED: "task-genius:task-selected",
};
// Event emitters
export const emitWorkspaceSwitched = (app, workspaceId) => {
    coreEmit(app, UIEvents.WORKSPACE_SWITCHED, {
        workspaceId,
        seq: Seq.next()
    });
};
export const emitWorkspaceOverridesSaved = (app, workspaceId, changedKeys) => {
    coreEmit(app, UIEvents.WORKSPACE_OVERRIDES_SAVED, {
        workspaceId,
        changedKeys,
        seq: Seq.next()
    });
};
export const emitWorkspaceReset = (app, workspaceId) => {
    coreEmit(app, UIEvents.WORKSPACE_RESET, {
        workspaceId,
        seq: Seq.next()
    });
};
export const emitDefaultWorkspaceChanged = (app, workspaceId) => {
    coreEmit(app, UIEvents.DEFAULT_WORKSPACE_CHANGED, {
        workspaceId,
        seq: Seq.next()
    });
};
export const emitWorkspaceCreated = (app, workspaceId, baseId) => {
    coreEmit(app, UIEvents.WORKSPACE_CREATED, {
        workspaceId,
        baseId,
        seq: Seq.next()
    });
};
// Emitters
export const emitSidebarSelectionChanged = (app, payload) => {
    coreEmit(app, UIEvents.SIDEBAR_SELECTION_CHANGED, Object.assign(Object.assign({}, payload), { seq: Seq.next() }));
};
export const emitTaskSelected = (app, payload) => {
    coreEmit(app, UIEvents.TASK_SELECTED, Object.assign(Object.assign({}, payload), { seq: Seq.next() }));
};
// Subscribers
export const onSidebarSelectionChanged = (app, handler) => {
    return coreOn(app, UIEvents.SIDEBAR_SELECTION_CHANGED, handler);
};
export const onTaskSelected = (app, handler) => {
    return coreOn(app, UIEvents.TASK_SELECTED, handler);
};
export const emitWorkspaceDeleted = (app, workspaceId) => {
    coreEmit(app, UIEvents.WORKSPACE_DELETED, {
        workspaceId,
        seq: Seq.next()
    });
};
export const emitWorkspaceRenamed = (app, workspaceId, newName) => {
    coreEmit(app, UIEvents.WORKSPACE_RENAMED, {
        workspaceId,
        newName,
        seq: Seq.next()
    });
};
// Event subscribers
export const onWorkspaceSwitched = (app, handler) => {
    return coreOn(app, UIEvents.WORKSPACE_SWITCHED, handler);
};
export const onWorkspaceOverridesSaved = (app, handler) => {
    return coreOn(app, UIEvents.WORKSPACE_OVERRIDES_SAVED, handler);
};
export const onWorkspaceReset = (app, handler) => {
    return coreOn(app, UIEvents.WORKSPACE_RESET, handler);
};
export const onDefaultWorkspaceChanged = (app, handler) => {
    return coreOn(app, UIEvents.DEFAULT_WORKSPACE_CHANGED, handler);
};
export const onWorkspaceCreated = (app, handler) => {
    return coreOn(app, UIEvents.WORKSPACE_CREATED, handler);
};
export const onWorkspaceDeleted = (app, handler) => {
    return coreOn(app, UIEvents.WORKSPACE_DELETED, handler);
};
export const onWorkspaceRenamed = (app, handler) => {
    return coreOn(app, UIEvents.WORKSPACE_RENAMED, handler);
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidWktZXZlbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJ1aS1ldmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsSUFBSSxJQUFJLFFBQVEsRUFBRSxFQUFFLElBQUksTUFBTSxFQUFFLEdBQUcsRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBRS9FLE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRztJQUN2QixrQkFBa0IsRUFBRSxtQ0FBbUM7SUFDdkQseUJBQXlCLEVBQUUsMENBQTBDO0lBQ3JFLGVBQWUsRUFBRSxnQ0FBZ0M7SUFDakQseUJBQXlCLEVBQUUsMENBQTBDO0lBQ3JFLGlCQUFpQixFQUFFLGtDQUFrQztJQUNyRCxpQkFBaUIsRUFBRSxrQ0FBa0M7SUFDckQsaUJBQWlCLEVBQUUsa0NBQWtDO0lBQ3JELDJDQUEyQztJQUMzQyx5QkFBeUIsRUFBRSx1Q0FBdUM7SUFDbEUsYUFBYSxFQUFFLDJCQUEyQjtDQUNqQyxDQUFDO0FBV1gsaUJBQWlCO0FBQ2pCLE1BQU0sQ0FBQyxNQUFNLHFCQUFxQixHQUFHLENBQUMsR0FBUSxFQUFFLFdBQW1CLEVBQUUsRUFBRTtJQUN0RSxRQUFRLENBQUMsR0FBRyxFQUFFLFFBQVEsQ0FBQyxrQkFBa0IsRUFBRTtRQUMxQyxXQUFXO1FBQ1gsR0FBRyxFQUFFLEdBQUcsQ0FBQyxJQUFJLEVBQUU7S0FDVSxDQUFDLENBQUM7QUFDN0IsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sMkJBQTJCLEdBQUcsQ0FBQyxHQUFRLEVBQUUsV0FBbUIsRUFBRSxXQUFzQixFQUFFLEVBQUU7SUFDcEcsUUFBUSxDQUFDLEdBQUcsRUFBRSxRQUFRLENBQUMseUJBQXlCLEVBQUU7UUFDakQsV0FBVztRQUNYLFdBQVc7UUFDWCxHQUFHLEVBQUUsR0FBRyxDQUFDLElBQUksRUFBRTtLQUNVLENBQUMsQ0FBQztBQUM3QixDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxrQkFBa0IsR0FBRyxD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eXBlIHsgQXBwLCBFdmVudFJlZiB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5pbXBvcnQgeyBlbWl0IGFzIGNvcmVFbWl0LCBvbiBhcyBjb3JlT24sIFNlcSB9IGZyb20gXCJAL2RhdGFmbG93L2V2ZW50cy9FdmVudHNcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBVSUV2ZW50cyA9IHtcclxuXHRXT1JLU1BBQ0VfU1dJVENIRUQ6IFwidGFzay1nZW5pdXM6dWktd29ya3NwYWNlLXN3aXRjaGVkXCIsXHJcblx0V09SS1NQQUNFX09WRVJSSURFU19TQVZFRDogXCJ0YXNrLWdlbml1czp1aS13b3Jrc3BhY2Utb3ZlcnJpZGVzLXNhdmVkXCIsXHJcblx0V09SS1NQQUNFX1JFU0VUOiBcInRhc2stZ2VuaXVzOnVpLXdvcmtzcGFjZS1yZXNldFwiLFxyXG5cdERFRkFVTFRfV09SS1NQQUNFX0NIQU5HRUQ6IFwidGFzay1nZW5pdXM6dWktZGVmYXVsdC13b3Jrc3BhY2UtY2hhbmdlZFwiLFxyXG5cdFdPUktTUEFDRV9DUkVBVEVEOiBcInRhc2stZ2VuaXVzOnVpLXdvcmtzcGFjZS1jcmVhdGVkXCIsXHJcblx0V09SS1NQQUNFX0RFTEVURUQ6IFwidGFzay1nZW5pdXM6dWktd29ya3NwYWNlLWRlbGV0ZWRcIixcclxuXHRXT1JLU1BBQ0VfUkVOQU1FRDogXCJ0YXNrLWdlbml1czp1aS13b3Jrc3BhY2UtcmVuYW1lZFwiLFxyXG5cdC8vIENyb3NzLXZpZXcgVUkgZXZlbnRzIGZvciBWMiBhcmNoaXRlY3R1cmVcclxuXHRTSURFQkFSX1NFTEVDVElPTl9DSEFOR0VEOiBcInRhc2stZ2VuaXVzOnNpZGViYXItc2VsZWN0aW9uLWNoYW5nZWRcIixcclxuXHRUQVNLX1NFTEVDVEVEOiBcInRhc2stZ2VuaXVzOnRhc2stc2VsZWN0ZWRcIixcclxufSBhcyBjb25zdDtcclxuXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFdvcmtzcGFjZUV2ZW50UGF5bG9hZCB7XHJcblx0d29ya3NwYWNlSWQ6IHN0cmluZztcclxuXHRzZXE6IG51bWJlcjtcclxuXHRjaGFuZ2VkS2V5cz86IHN0cmluZ1tdO1xyXG5cdGJhc2VJZD86IHN0cmluZzsgLy8gRm9yIGNsb25lZCB3b3Jrc3BhY2VzXHJcblx0bmV3TmFtZT86IHN0cmluZzsgLy8gRm9yIHJlbmFtZSBldmVudHNcclxufVxyXG5cclxuLy8gRXZlbnQgZW1pdHRlcnNcclxuZXhwb3J0IGNvbnN0IGVtaXRXb3Jrc3BhY2VTd2l0Y2hlZCA9IChhcHA6IEFwcCwgd29ya3NwYWNlSWQ6IHN0cmluZykgPT4ge1xyXG5cdGNvcmVFbWl0KGFwcCwgVUlFdmVudHMuV09SS1NQQUNFX1NXSVRDSEVELCB7XHJcblx0XHR3b3Jrc3BhY2VJZCxcclxuXHRcdHNlcTogU2VxLm5leHQoKVxyXG5cdH0gYXMgV29ya3NwYWNlRXZlbnRQYXlsb2FkKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBlbWl0V29ya3NwYWNlT3ZlcnJpZGVzU2F2ZWQgPSAoYXBwOiBBcHAsIHdvcmtzcGFjZUlkOiBzdHJpbmcsIGNoYW5nZWRLZXlzPzogc3RyaW5nW10pID0+IHtcclxuXHRjb3JlRW1pdChhcHAsIFVJRXZlbnRzLldPUktTUEFDRV9PVkVSUklERVNfU0FWRUQsIHtcclxuXHRcdHdvcmtzcGFjZUlkLFxyXG5cdFx0Y2hhbmdlZEtleXMsXHJcblx0XHRzZXE6IFNlcS5uZXh0KClcclxuXHR9IGFzIFdvcmtzcGFjZUV2ZW50UGF5bG9hZCk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZW1pdFdvcmtzcGFjZVJlc2V0ID0gKGFwcDogQXBwLCB3b3Jrc3BhY2VJZDogc3RyaW5nKSA9PiB7XHJcblx0Y29yZUVtaXQoYXBwLCBVSUV2ZW50cy5XT1JLU1BBQ0VfUkVTRVQsIHtcclxuXHRcdHdvcmtzcGFjZUlkLFxyXG5cdFx0c2VxOiBTZXEubmV4dCgpXHJcblx0fSBhcyBXb3Jrc3BhY2VFdmVudFBheWxvYWQpO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGVtaXREZWZhdWx0V29ya3NwYWNlQ2hhbmdlZCA9IChhcHA6IEFwcCwgd29ya3NwYWNlSWQ6IHN0cmluZykgPT4ge1xyXG5cdGNvcmVFbWl0KGFwcCwgVUlFdmVudHMuREVGQVVMVF9XT1JLU1BBQ0VfQ0hBTkdFRCwge1xyXG5cdFx0d29ya3NwYWNlSWQsXHJcblx0XHRzZXE6IFNlcS5uZXh0KClcclxuXHR9IGFzIFdvcmtzcGFjZUV2ZW50UGF5bG9hZCk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZW1pdFdvcmtzcGFjZUNyZWF0ZWQgPSAoYXBwOiBBcHAsIHdvcmtzcGFjZUlkOiBzdHJpbmcsIGJhc2VJZD86IHN0cmluZykgPT4ge1xyXG5cdGNvcmVFbWl0KGFwcCwgVUlFdmVudHMuV09SS1NQQUNFX0NSRUFURUQsIHtcclxuXHRcdHdvcmtzcGFjZUlkLFxyXG5cdFx0YmFzZUlkLFxyXG5cdFx0c2VxOiBTZXEubmV4dCgpXHJcblx0fSBhcyBXb3Jrc3BhY2VFdmVudFBheWxvYWQpO1xyXG59O1xyXG5cclxuLy8gLS0tLS0tLS0gVjIgQ3Jvc3MtVmlldyBFdmVudCBQYXlsb2FkcyAtLS0tLS0tLVxyXG5leHBvcnQgaW50ZXJmYWNlIFNpZGViYXJTZWxlY3Rpb25QYXlsb2FkIHtcclxuXHRzZWxlY3Rpb25UeXBlOiBzdHJpbmc7IC8vIGUuZy4gXCJwcm9qZWN0XCIgfCBcInRhZ1wiIHwgXCJmaWx0ZXJcIiB8IFwidmlld1wiXHJcblx0c2VsZWN0aW9uSWQ/OiBzdHJpbmc7XHJcblx0c2VsZWN0aW9uRGF0YT86IGFueTtcclxuXHRzb3VyY2U/OiBzdHJpbmc7IC8vIGUuZy4gXCJsZWZ0XCIsIFwidGltZWxpbmVcIlxyXG5cdHdvcmtzcGFjZUlkPzogc3RyaW5nO1xyXG5cdHNlcTogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFRhc2tTZWxlY3Rpb25QYXlsb2FkIHtcclxuXHR0YXNrSWQ6IHN0cmluZyB8IG51bGw7IC8vIG51bGwgdG8gY2xlYXIgc2VsZWN0aW9uXHJcblx0b3JpZ2luPzogc3RyaW5nOyAvLyBlLmcuIFwibWFpblwiLCBcInNpZGViYXJcIlxyXG5cdHdvcmtzcGFjZUlkPzogc3RyaW5nO1xyXG5cdG1ldGFkYXRhPzogYW55O1xyXG5cdHNlcTogbnVtYmVyO1xyXG59XHJcblxyXG4vLyBFbWl0dGVyc1xyXG5leHBvcnQgY29uc3QgZW1pdFNpZGViYXJTZWxlY3Rpb25DaGFuZ2VkID0gKGFwcDogQXBwLCBwYXlsb2FkOiBPbWl0PFNpZGViYXJTZWxlY3Rpb25QYXlsb2FkLCBcInNlcVwiPikgPT4ge1xyXG5cdGNvcmVFbWl0KGFwcCwgVUlFdmVudHMuU0lERUJBUl9TRUxFQ1RJT05fQ0hBTkdFRCwge1xyXG5cdFx0Li4ucGF5bG9hZCxcclxuXHRcdHNlcTogU2VxLm5leHQoKSxcclxuXHR9IGFzIFNpZGViYXJTZWxlY3Rpb25QYXlsb2FkKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBlbWl0VGFza1NlbGVjdGVkID0gKGFwcDogQXBwLCBwYXlsb2FkOiBPbWl0PFRhc2tTZWxlY3Rpb25QYXlsb2FkLCBcInNlcVwiPikgPT4ge1xyXG5cdGNvcmVFbWl0KGFwcCwgVUlFdmVudHMuVEFTS19TRUxFQ1RFRCwge1xyXG5cdFx0Li4ucGF5bG9hZCxcclxuXHRcdHNlcTogU2VxLm5leHQoKSxcclxuXHR9IGFzIFRhc2tTZWxlY3Rpb25QYXlsb2FkKTtcclxufTtcclxuXHJcbi8vIFN1YnNjcmliZXJzXHJcbmV4cG9ydCBjb25zdCBvblNpZGViYXJTZWxlY3Rpb25DaGFuZ2VkID0gKGFwcDogQXBwLCBoYW5kbGVyOiAocGF5bG9hZDogU2lkZWJhclNlbGVjdGlvblBheWxvYWQpID0+IHZvaWQpOiBFdmVudFJlZiA9PiB7XHJcblx0cmV0dXJuIGNvcmVPbihhcHAsIFVJRXZlbnRzLlNJREVCQVJfU0VMRUNUSU9OX0NIQU5HRUQsIGhhbmRsZXIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IG9uVGFza1NlbGVjdGVkID0gKGFwcDogQXBwLCBoYW5kbGVyOiAocGF5bG9hZDogVGFza1NlbGVjdGlvblBheWxvYWQpID0+IHZvaWQpOiBFdmVudFJlZiA9PiB7XHJcblx0cmV0dXJuIGNvcmVPbihhcHAsIFVJRXZlbnRzLlRBU0tfU0VMRUNURUQsIGhhbmRsZXIpO1xyXG59O1xyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBlbWl0V29ya3NwYWNlRGVsZXRlZCA9IChhcHA6IEFwcCwgd29ya3NwYWNlSWQ6IHN0cmluZykgPT4ge1xyXG5cdGNvcmVFbWl0KGFwcCwgVUlFdmVudHMuV09SS1NQQUNFX0RFTEVURUQsIHtcclxuXHRcdHdvcmtzcGFjZUlkLFxyXG5cdFx0c2VxOiBTZXEubmV4dCgpXHJcblx0fSBhcyBXb3Jrc3BhY2VFdmVudFBheWxvYWQpO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGVtaXRXb3Jrc3BhY2VSZW5hbWVkID0gKGFwcDogQXBwLCB3b3Jrc3BhY2VJZDogc3RyaW5nLCBuZXdOYW1lOiBzdHJpbmcpID0+IHtcclxuXHRjb3JlRW1pdChhcHAsIFVJRXZlbnRzLldPUktTUEFDRV9SRU5BTUVELCB7XHJcblx0XHR3b3Jrc3BhY2VJZCxcclxuXHRcdG5ld05hbWUsXHJcblx0XHRzZXE6IFNlcS5uZXh0KClcclxuXHR9IGFzIFdvcmtzcGFjZUV2ZW50UGF5bG9hZCk7XHJcbn07XHJcblxyXG4vLyBFdmVudCBzdWJzY3JpYmVyc1xyXG5leHBvcnQgY29uc3Qgb25Xb3Jrc3BhY2VTd2l0Y2hlZCA9IChhcHA6IEFwcCwgaGFuZGxlcjogKHBheWxvYWQ6IFdvcmtzcGFjZUV2ZW50UGF5bG9hZCkgPT4gdm9pZCk6IEV2ZW50UmVmID0+IHtcclxuXHRyZXR1cm4gY29yZU9uKGFwcCwgVUlFdmVudHMuV09SS1NQQUNFX1NXSVRDSEVELCBoYW5kbGVyKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBvbldvcmtzcGFjZU92ZXJyaWRlc1NhdmVkID0gKGFwcDogQXBwLCBoYW5kbGVyOiAocGF5bG9hZDogV29ya3NwYWNlRXZlbnRQYXlsb2FkKSA9PiB2b2lkKTogRXZlbnRSZWYgPT4ge1xyXG5cdHJldHVybiBjb3JlT24oYXBwLCBVSUV2ZW50cy5XT1JLU1BBQ0VfT1ZFUlJJREVTX1NBVkVELCBoYW5kbGVyKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBvbldvcmtzcGFjZVJlc2V0ID0gKGFwcDogQXBwLCBoYW5kbGVyOiAocGF5bG9hZDogV29ya3NwYWNlRXZlbnRQYXlsb2FkKSA9PiB2b2lkKTogRXZlbnRSZWYgPT4ge1xyXG5cdHJldHVybiBjb3JlT24oYXBwLCBVSUV2ZW50cy5XT1JLU1BBQ0VfUkVTRVQsIGhhbmRsZXIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IG9uRGVmYXVsdFdvcmtzcGFjZUNoYW5nZWQgPSAoYXBwOiBBcHAsIGhhbmRsZXI6IChwYXlsb2FkOiBXb3Jrc3BhY2VFdmVudFBheWxvYWQpID0+IHZvaWQpOiBFdmVudFJlZiA9PiB7XHJcblx0cmV0dXJuIGNvcmVPbihhcHAsIFVJRXZlbnRzLkRFRkFVTFRfV09SS1NQQUNFX0NIQU5HRUQsIGhhbmRsZXIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IG9uV29ya3NwYWNlQ3JlYXRlZCA9IChhcHA6IEFwcCwgaGFuZGxlcjogKHBheWxvYWQ6IFdvcmtzcGFjZUV2ZW50UGF5bG9hZCkgPT4gdm9pZCk6IEV2ZW50UmVmID0+IHtcclxuXHRyZXR1cm4gY29yZU9uKGFwcCwgVUlFdmVudHMuV09SS1NQQUNFX0NSRUFURUQsIGhhbmRsZXIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IG9uV29ya3NwYWNlRGVsZXRlZCA9IChhcHA6IEFwcCwgaGFuZGxlcjogKHBheWxvYWQ6IFdvcmtzcGFjZUV2ZW50UGF5bG9hZCkgPT4gdm9pZCk6IEV2ZW50UmVmID0+IHtcclxuXHRyZXR1cm4gY29yZU9uKGFwcCwgVUlFdmVudHMuV09SS1NQQUNFX0RFTEVURUQsIGhhbmRsZXIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IG9uV29ya3NwYWNlUmVuYW1lZCA9IChhcHA6IEFwcCwgaGFuZGxlcjogKHBheWxvYWQ6IFdvcmtzcGFjZUV2ZW50UGF5bG9hZCkgPT4gdm9pZCk6IEV2ZW50UmVmID0+IHtcclxuXHRyZXR1cm4gY29yZU9uKGFwcCwgVUlFdmVudHMuV09SS1NQQUNFX1JFTkFNRUQsIGhhbmRsZXIpO1xyXG59O1xyXG4iXX0=