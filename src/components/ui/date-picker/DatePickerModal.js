import { Modal } from "obsidian";
import { DatePickerComponent } from "./DatePickerComponent";
export class DatePickerModal extends Modal {
    constructor(app, plugin, initialDate, dateMark = "ðŸ“…") {
        super(app);
        this.onDateSelected = null;
        this.plugin = plugin;
        this.initialDate = initialDate;
        this.dateMark = dateMark;
    }
    onOpen() {
        const { contentEl } = this;
        contentEl.empty();
        this.datePickerComponent = new DatePickerComponent(this.contentEl, this.app, this.plugin, this.initialDate, this.dateMark);
        this.datePickerComponent.onload();
        // Set up date change callback
        this.datePickerComponent.setOnDateChange((date) => {
            if (this.onDateSelected) {
                this.onDateSelected(date);
            }
            this.close();
        });
    }
    onClose() {
        const { contentEl } = this;
        if (this.datePickerComponent) {
            this.datePickerComponent.onunload();
        }
        contentEl.empty();
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGF0ZVBpY2tlck1vZGFsLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiRGF0ZVBpY2tlck1vZGFsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBTyxLQUFLLEVBQUUsTUFBTSxVQUFVLENBQUM7QUFDdEMsT0FBTyxFQUFFLG1CQUFtQixFQUFtQixNQUFNLHVCQUF1QixDQUFDO0FBRzdFLE1BQU0sT0FBTyxlQUFnQixTQUFRLEtBQUs7SUFPekMsWUFDQyxHQUFRLEVBQ1IsTUFBOEIsRUFDOUIsV0FBb0IsRUFDcEIsV0FBbUIsSUFBSTtRQUV2QixLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7UUFYTCxtQkFBYyxHQUEyQyxJQUFJLENBQUM7UUFZcEUsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7UUFDckIsSUFBSSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUM7UUFDL0IsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7SUFDMUIsQ0FBQztJQUVELE1BQU07UUFDTCxNQUFNLEVBQUUsU0FBUyxFQUFFLEdBQUcsSUFBSSxDQUFDO1FBQzNCLFNBQVMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUVsQixJQUFJLENBQUMsbUJBQW1CLEdBQUcsSUFBSSxtQkFBbUIsQ0FDakQsSUFBSSxDQUFDLFNBQVMsRUFDZCxJQUFJLENBQUMsR0FBRyxFQUNSLElBQUksQ0FBQyxNQUFNLEVBQ1gsSUFBSSxDQUFDLFdBQVcsRUFDaEIsSUFBSSxDQUFDLFFBQVEsQ0FDYixDQUFDO1FBRUYsSUFBSSxDQUFDLG1CQUFtQixDQUFDLE1BQU0sRUFBRSxDQUFDO1FBRWxDLDhCQUE4QjtRQUM5QixJQUFJLENBQUMsbUJBQW1CLENBQUMsZUFBZSxDQUFDLENBQUMsSUFBWSxFQUFFLEVBQUU7WUFDekQsSUFBSSxJQUFJLENBQUMsY0FBYyxFQUFFO2dCQUN4QixJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxDQUFDO2FBQzFCO1lBQ0QsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ2QsQ0FBQyxDQUFDLENBQUM7SUFDSixDQUFDO0lBRUQsT0FBTztRQUNOLE1BQU0sRUFBRSxTQUFTLEVBQUUsR0FBRyxJQUFJLENBQUM7UUFFM0IsSUFBSSxJQUFJLENBQUMsbUJBQW1CLEVBQUU7WUFDN0IsSUFBSSxDQUFDLG1CQUFtQixDQUFDLFFBQVEsRUFBRSxDQUFDO1NBQ3BDO1FBRUQsU0FBUyxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQ25CLENBQUM7Q0FDRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcCwgTW9kYWwgfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuaW1wb3J0IHsgRGF0ZVBpY2tlckNvbXBvbmVudCwgRGF0ZVBpY2tlclN0YXRlIH0gZnJvbSBcIi4vRGF0ZVBpY2tlckNvbXBvbmVudFwiO1xyXG5pbXBvcnQgdHlwZSBUYXNrUHJvZ3Jlc3NCYXJQbHVnaW4gZnJvbSBcIkAvaW5kZXhcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBEYXRlUGlja2VyTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XHJcblx0cHVibGljIGRhdGVQaWNrZXJDb21wb25lbnQ6IERhdGVQaWNrZXJDb21wb25lbnQ7XHJcblx0cHVibGljIG9uRGF0ZVNlbGVjdGVkOiAoKGRhdGU6IHN0cmluZyB8IG51bGwpID0+IHZvaWQpIHwgbnVsbCA9IG51bGw7XHJcblx0cHJpdmF0ZSBwbHVnaW4/OiBUYXNrUHJvZ3Jlc3NCYXJQbHVnaW47XHJcblx0cHJpdmF0ZSBpbml0aWFsRGF0ZT86IHN0cmluZztcclxuXHRwcml2YXRlIGRhdGVNYXJrOiBzdHJpbmc7XHJcblxyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0YXBwOiBBcHAsXHJcblx0XHRwbHVnaW4/OiBUYXNrUHJvZ3Jlc3NCYXJQbHVnaW4sXHJcblx0XHRpbml0aWFsRGF0ZT86IHN0cmluZyxcclxuXHRcdGRhdGVNYXJrOiBzdHJpbmcgPSBcIvCfk4VcIlxyXG5cdCkge1xyXG5cdFx0c3VwZXIoYXBwKTtcclxuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG5cdFx0dGhpcy5pbml0aWFsRGF0ZSA9IGluaXRpYWxEYXRlO1xyXG5cdFx0dGhpcy5kYXRlTWFyayA9IGRhdGVNYXJrO1xyXG5cdH1cclxuXHJcblx0b25PcGVuKCkge1xyXG5cdFx0Y29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XHJcblx0XHRjb250ZW50RWwuZW1wdHkoKTtcclxuXHJcblx0XHR0aGlzLmRhdGVQaWNrZXJDb21wb25lbnQgPSBuZXcgRGF0ZVBpY2tlckNvbXBvbmVudChcclxuXHRcdFx0dGhpcy5jb250ZW50RWwsXHJcblx0XHRcdHRoaXMuYXBwLFxyXG5cdFx0XHR0aGlzLnBsdWdpbixcclxuXHRcdFx0dGhpcy5pbml0aWFsRGF0ZSxcclxuXHRcdFx0dGhpcy5kYXRlTWFya1xyXG5cdFx0KTtcclxuXHJcblx0XHR0aGlzLmRhdGVQaWNrZXJDb21wb25lbnQub25sb2FkKCk7XHJcblxyXG5cdFx0Ly8gU2V0IHVwIGRhdGUgY2hhbmdlIGNhbGxiYWNrXHJcblx0XHR0aGlzLmRhdGVQaWNrZXJDb21wb25lbnQuc2V0T25EYXRlQ2hhbmdlKChkYXRlOiBzdHJpbmcpID0+IHtcclxuXHRcdFx0aWYgKHRoaXMub25EYXRlU2VsZWN0ZWQpIHtcclxuXHRcdFx0XHR0aGlzLm9uRGF0ZVNlbGVjdGVkKGRhdGUpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHRoaXMuY2xvc2UoKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0b25DbG9zZSgpIHtcclxuXHRcdGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xyXG5cclxuXHRcdGlmICh0aGlzLmRhdGVQaWNrZXJDb21wb25lbnQpIHtcclxuXHRcdFx0dGhpcy5kYXRlUGlja2VyQ29tcG9uZW50Lm9udW5sb2FkKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29udGVudEVsLmVtcHR5KCk7XHJcblx0fVxyXG59XHJcbiJdfQ==